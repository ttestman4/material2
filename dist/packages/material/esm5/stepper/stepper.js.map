{"version":3,"file":"stepper.js","sourceRoot":"","sources":["../../../../../src/lib/stepper/stepper.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\nimport {Directionality} from '@angular/cdk/bidi';\nimport {\n  CdkStep,\n  CdkStepper,\n  StepContentPositionState,\n  STEPPER_GLOBAL_OPTIONS,\n  StepperOptions\n} from '@angular/cdk/stepper';\nimport {AnimationEvent} from '@angular/animations';\nimport {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChild,\n  ContentChildren,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  forwardRef,\n  Inject,\n  Input,\n  Optional,\n  Output,\n  QueryList,\n  SkipSelf,\n  TemplateRef,\n  ViewChildren,\n  ViewEncapsulation,\n} from '@angular/core';\nimport {FormControl, FormGroupDirective, NgForm} from '@angular/forms';\nimport {DOCUMENT} from '@angular/common';\nimport {ErrorStateMatcher} from '@angular/material/core';\nimport {Subject} from 'rxjs';\nimport {takeUntil, distinctUntilChanged} from 'rxjs/operators';\n\nimport {MatStepHeader} from './step-header';\nimport {MatStepLabel} from './step-label';\nimport {matStepperAnimations} from './stepper-animations';\nimport {MatStepperIcon, MatStepperIconContext} from './stepper-icon';\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-step',\n  templateUrl: 'step.html',\n  providers: [{provide: ErrorStateMatcher, useExisting: MatStep}],\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'matStep',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatStep extends CdkStep implements ErrorStateMatcher {\n  /** Content for step label given by `<ng-template matStepLabel>`. */\n  @ContentChild(MatStepLabel) stepLabel: MatStepLabel;\n\n  /** @breaking-change 8.0.0 remove the `?` after `stepperOptions` */\n  constructor(@Inject(forwardRef(() => MatStepper)) stepper: MatStepper,\n              @SkipSelf() private _errorStateMatcher: ErrorStateMatcher,\n              @Optional() @Inject(STEPPER_GLOBAL_OPTIONS) stepperOptions?: StepperOptions) {\n    super(stepper, stepperOptions);\n  }\n\n  /** Custom error state matcher that additionally checks for validity of interacted form. */\n  isErrorState(control: FormControl | null, form: FormGroupDirective | NgForm | null): boolean {\n    const originalErrorState = this._errorStateMatcher.isErrorState(control, form);\n\n    // Custom error state checks for the validity of form that is not submitted or touched\n    // since user can trigger a form change by calling for another step without directly\n    // interacting with the current form.\n    const customErrorState = !!(control && control.invalid && this.interacted);\n\n    return originalErrorState || customErrorState;\n  }\n}\n\n\n@Directive({\n  selector: '[matStepper]'\n})\nexport class MatStepper extends CdkStepper implements AfterContentInit {\n  /** The list of step headers of the steps in the stepper. */\n  @ViewChildren(MatStepHeader) _stepHeader: QueryList<MatStepHeader>;\n\n  /** Steps that the stepper holds. */\n  @ContentChildren(MatStep) _steps: QueryList<MatStep>;\n\n  /** Custom icon overrides passed in by the consumer. */\n  @ContentChildren(MatStepperIcon) _icons: QueryList<MatStepperIcon>;\n\n  /** Event emitted when the current step is done transitioning in. */\n  @Output() readonly animationDone: EventEmitter<void> = new EventEmitter<void>();\n\n  /** Whether ripples should be disabled for the step headers. */\n  @Input() disableRipple: boolean;\n\n  /** Consumer-specified template-refs to be used to override the header icons. */\n  _iconOverrides: {[key: string]: TemplateRef<MatStepperIconContext>} = {};\n\n  /** Stream of animation `done` events when the body expands/collapses. */\n  _animationDone = new Subject<AnimationEvent>();\n\n  ngAfterContentInit() {\n    this._icons.forEach(({name, templateRef}) => this._iconOverrides[name] = templateRef);\n\n    // Mark the component for change detection whenever the content children query changes\n    this._steps.changes.pipe(takeUntil(this._destroyed)).subscribe(() => this._stateChanged());\n\n    this._animationDone.pipe(\n      // This needs a `distinctUntilChanged` in order to avoid emitting the same event twice due\n      // to a bug in animations where the `.done` callback gets invoked twice on some browsers.\n      // See https://github.com/angular/angular/issues/24084\n      distinctUntilChanged((x, y) => x.fromState === y.fromState && x.toState === y.toState),\n      takeUntil(this._destroyed)\n    ).subscribe(event => {\n      if ((event.toState as StepContentPositionState) === 'current') {\n        this.animationDone.emit();\n      }\n    });\n  }\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-horizontal-stepper',\n  exportAs: 'matHorizontalStepper',\n  templateUrl: 'stepper-horizontal.html',\n  styleUrls: ['stepper.css'],\n  inputs: ['selectedIndex'],\n  host: {\n    'class': 'mat-stepper-horizontal',\n    '[class.mat-stepper-label-position-end]': 'labelPosition == \"end\"',\n    '[class.mat-stepper-label-position-bottom]': 'labelPosition == \"bottom\"',\n    'aria-orientation': 'horizontal',\n    'role': 'tablist',\n  },\n  animations: [matStepperAnimations.horizontalStepTransition],\n  providers: [{provide: MatStepper, useExisting: MatHorizontalStepper}],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatHorizontalStepper extends MatStepper {\n  /** Whether the label should display in bottom or end position. */\n  @Input()\n  labelPosition: 'bottom' | 'end' = 'end';\n}\n\n@Component({\n  moduleId: module.id,\n  selector: 'mat-vertical-stepper',\n  exportAs: 'matVerticalStepper',\n  templateUrl: 'stepper-vertical.html',\n  styleUrls: ['stepper.css'],\n  inputs: ['selectedIndex'],\n  host: {\n    'class': 'mat-stepper-vertical',\n    'aria-orientation': 'vertical',\n    'role': 'tablist',\n  },\n  animations: [matStepperAnimations.verticalStepTransition],\n  providers: [{provide: MatStepper, useExisting: MatVerticalStepper}],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class MatVerticalStepper extends MatStepper {\n  constructor(\n    @Optional() dir: Directionality,\n    changeDetectorRef: ChangeDetectorRef,\n    // @breaking-change 8.0.0 `elementRef` and `_document` parameters to become required.\n    elementRef?: ElementRef<HTMLElement>,\n    @Inject(DOCUMENT) _document?: any) {\n    super(dir, changeDetectorRef, elementRef, _document);\n    this._orientation = 'vertical';\n  }\n}\n"]}