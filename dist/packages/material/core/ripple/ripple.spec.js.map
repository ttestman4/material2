{"version":3,"file":"ripple.spec.js","sourceRoot":"","sources":["../../../../../src/lib/core/ripple/ripple.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {TestBed, ComponentFixture, fakeAsync, tick, inject} from '@angular/core/testing';\nimport {Component, ViewChild} from '@angular/core';\nimport {Platform} from '@angular/cdk/platform';\nimport {\n  dispatchEvent,\n  createTouchEvent,\n  dispatchMouseEvent,\n  dispatchTouchEvent,\n  createMouseEvent,\n} from '@angular/cdk/testing';\nimport {defaultRippleAnimationConfig, RippleAnimationConfig} from './ripple-renderer';\nimport {\n  MatRipple, MatRippleModule, MAT_RIPPLE_GLOBAL_OPTIONS, RippleState, RippleGlobalOptions\n} from './index';\nimport {NoopAnimationsModule} from '@angular/platform-browser/animations';\n\n/** Shorthands for the enter and exit duration of ripples. */\nconst {enterDuration, exitDuration} = defaultRippleAnimationConfig;\n\ndescribe('MatRipple', () => {\n  let fixture: ComponentFixture<any>;\n  let rippleTarget: HTMLElement;\n  let originalBodyMargin: string | null;\n  let platform: Platform;\n\n  /** Extracts the numeric value of a pixel size string like '123px'. */\n  const pxStringToFloat = (s: string | null) => s ? parseFloat(s) : 0;\n  const startingWindowWidth = window.innerWidth;\n  const startingWindowHeight = window.innerHeight;\n\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      imports: [MatRippleModule],\n      declarations: [\n        BasicRippleContainer,\n        RippleContainerWithInputBindings,\n        RippleContainerWithoutBindings,\n        RippleContainerWithNgIf,\n      ],\n    });\n  });\n\n  beforeEach(inject([Platform], (p: Platform) => {\n    platform = p;\n\n    // Set body margin to 0 during tests so it doesn't mess up position calculations.\n    originalBodyMargin = document.body.style.margin;\n    document.body.style.margin = '0';\n  }));\n\n  afterEach(() => {\n    document.body.style.margin = originalBodyMargin;\n  });\n\n  describe('basic ripple', () => {\n    let rippleDirective: MatRipple;\n\n    const TARGET_HEIGHT = 200;\n    const TARGET_WIDTH = 300;\n\n    beforeEach(() => {\n      fixture = TestBed.createComponent(BasicRippleContainer);\n      fixture.detectChanges();\n\n      rippleTarget = fixture.nativeElement.querySelector('.mat-ripple');\n      rippleDirective = fixture.componentInstance.ripple;\n    });\n\n    it('sizes ripple to cover element', () => {\n      // This test is consistently flaky on iOS (vs. Safari on desktop and all other browsers).\n      // Temporarily skip this test on iOS until we can determine the source of the flakiness.\n      // TODO(jelbourn): determine the source of flakiness here\n      if (platform.IOS) {\n        return;\n      }\n\n      let elementRect = rippleTarget.getBoundingClientRect();\n\n      // Dispatch a ripple at the following relative coordinates (X: 50| Y: 75)\n      dispatchMouseEvent(rippleTarget, 'mousedown', 50, 75);\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      // Calculate distance from the click to farthest edge of the ripple target.\n      let maxDistanceX = TARGET_WIDTH - 50;\n      let maxDistanceY = TARGET_HEIGHT - 75;\n\n      // At this point the foreground ripple should be created with a div centered at the click\n      // location, and large enough to reach the furthest corner, which is 250px to the right\n      // and 125px down relative to the click position.\n      let expectedRadius = Math.sqrt(maxDistanceX * maxDistanceX + maxDistanceY * maxDistanceY);\n      let expectedLeft = elementRect.left + 50 - expectedRadius;\n      let expectedTop = elementRect.top + 75 - expectedRadius;\n\n      let ripple = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\n\n      // Note: getBoundingClientRect won't work because there's a transform applied to make the\n      // ripple start out tiny.\n      expect(pxStringToFloat(ripple.style.left)).toBeCloseTo(expectedLeft, 1);\n      expect(pxStringToFloat(ripple.style.top)).toBeCloseTo(expectedTop, 1);\n      expect(pxStringToFloat(ripple.style.width)).toBeCloseTo(2 * expectedRadius, 1);\n      expect(pxStringToFloat(ripple.style.height)).toBeCloseTo(2 * expectedRadius, 1);\n    });\n\n    it('creates ripple on mousedown', () => {\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(2);\n    });\n\n    it('should launch ripples on touchstart', fakeAsync(() => {\n      dispatchTouchEvent(rippleTarget, 'touchstart');\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      tick(enterDuration);\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      dispatchTouchEvent(rippleTarget, 'touchend');\n\n      tick(exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n\n    it('should clear ripples if the touch sequence is cancelled', fakeAsync(() => {\n      dispatchTouchEvent(rippleTarget, 'touchstart');\n      tick(enterDuration);\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      dispatchTouchEvent(rippleTarget, 'touchcancel');\n      tick(exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n\n    it('should launch multiple ripples for multi-touch', fakeAsync(() => {\n      const touchEvent = createTouchEvent('touchstart');\n\n      Object.defineProperties(touchEvent, {\n        changedTouches: {\n          value: [\n            {pageX: 0, pageY: 0},\n            {pageX: 10, pageY: 10},\n            {pageX: 20, pageY: 20}\n          ]\n        }\n      });\n\n      dispatchEvent(rippleTarget, touchEvent);\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(3);\n\n      tick(enterDuration);\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(3);\n\n      dispatchTouchEvent(rippleTarget, 'touchend');\n\n      tick(exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n\n    it('should ignore synthetic mouse events after touchstart', () => fakeAsync(() => {\n      dispatchTouchEvent(rippleTarget, 'touchstart');\n      dispatchTouchEvent(rippleTarget, 'mousedown');\n\n      tick(enterDuration);\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      dispatchTouchEvent(rippleTarget, 'touchend');\n\n      tick(exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n\n    it('should ignore fake mouse events from screen readers', fakeAsync(() => {\n      const event = createMouseEvent('mousedown');\n      Object.defineProperty(event, 'buttons', {get: () => 0});\n\n      dispatchEvent(rippleTarget, event);\n      tick(enterDuration);\n      expect(rippleTarget.querySelector('.mat-ripple-element')).toBeFalsy();\n    }));\n\n    it('removes ripple after timeout', fakeAsync(() => {\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      // Calculates the duration for fading-in and fading-out the ripple.\n      tick(enterDuration + exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n\n    it('should remove ripples after mouseup', fakeAsync(() => {\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      // Fakes the duration of fading-in and fading-out normal ripples.\n      // The fade-out duration has been added to ensure that didn't start fading out.\n      tick(enterDuration + exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n      tick(exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n\n    it('should not hide ripples while animating.', fakeAsync(() => {\n      // Calculates the duration for fading-in and fading-out the ripple.\n      let hideDuration = enterDuration + exitDuration;\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      tick(hideDuration - 10);\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      tick(10);\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n\n    it('creates ripples when manually triggered', () => {\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      rippleDirective.launch(0, 0);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n    });\n\n    it('creates manual ripples with the default ripple config', () => {\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      // Calculate the diagonal distance and divide it by two for the center radius.\n      let radius = Math.sqrt(TARGET_HEIGHT * TARGET_HEIGHT + TARGET_WIDTH * TARGET_WIDTH) / 2;\n\n      rippleDirective.centered = true;\n      rippleDirective.launch(0, 0);\n\n      let rippleElement = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\n\n      expect(rippleElement).toBeTruthy();\n      expect(parseFloat(rippleElement.style.left as string))\n          .toBeCloseTo(TARGET_WIDTH / 2 - radius, 1);\n      expect(parseFloat(rippleElement.style.top as string))\n          .toBeCloseTo(TARGET_HEIGHT / 2 - radius, 1);\n    });\n\n    it('cleans up the event handlers when the container gets destroyed', () => {\n      fixture = TestBed.createComponent(RippleContainerWithNgIf);\n      fixture.detectChanges();\n\n      rippleTarget = fixture.debugElement.nativeElement.querySelector('.mat-ripple');\n\n      fixture.componentInstance.isDestroyed = true;\n      fixture.detectChanges();\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    });\n\n    it('does not run events inside the NgZone', () => {\n      const spy = jasmine.createSpy('zone unstable callback');\n      const subscription = fixture.ngZone!.onUnstable.subscribe(spy);\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(spy).not.toHaveBeenCalled();\n      subscription.unsubscribe();\n    });\n\n    it('should only persist the latest ripple on pointer down', fakeAsync(() => {\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(2);\n\n      tick(enterDuration + exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n    }));\n\n    describe('when page is scrolled', () => {\n      let veryLargeElement: HTMLDivElement = document.createElement('div');\n      let pageScrollTop = 500;\n      let pageScrollLeft = 500;\n\n      beforeEach(() => {\n        // Add a very large element to make the page scroll\n        veryLargeElement.style.width = '4000px';\n        veryLargeElement.style.height = '4000px';\n\n        document.body.appendChild(veryLargeElement);\n        document.body.scrollTop = pageScrollTop;\n        document.body.scrollLeft = pageScrollLeft;\n\n        // Firefox\n        document.documentElement!.scrollLeft = pageScrollLeft;\n        document.documentElement!.scrollTop = pageScrollTop;\n\n        // Mobile safari\n        window.scrollTo(pageScrollLeft, pageScrollTop);\n      });\n\n      afterEach(() => {\n        document.body.removeChild(veryLargeElement);\n        document.body.scrollTop = 0;\n        document.body.scrollLeft = 0;\n\n        // Firefox\n        document.documentElement!.scrollLeft = 0;\n        document.documentElement!.scrollTop = 0;\n\n        // Mobile safari\n        window.scrollTo(0, 0);\n      });\n\n      it('create ripple with correct position', () => {\n        let elementTop = 600;\n        let elementLeft = 750;\n        let left = 50;\n        let top = 75;\n\n        rippleTarget.style.left = `${elementLeft}px`;\n        rippleTarget.style.top = `${elementTop}px`;\n\n        // Simulate a keyboard-triggered click by setting event coordinates to 0.\n        dispatchMouseEvent(rippleTarget, 'mousedown',\n          left + elementLeft - pageScrollLeft,\n          top + elementTop - pageScrollTop\n        );\n\n        let expectedRadius = Math.sqrt(250 * 250 + 125 * 125);\n        let expectedLeft = left - expectedRadius;\n        let expectedTop = top - expectedRadius;\n\n        let ripple = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\n\n        // In the iOS simulator (BrowserStack & SauceLabs), adding the content to the\n        // body causes karma's iframe for the test to stretch to fit that content once we attempt to\n        // scroll the page. Setting width / height / maxWidth / maxHeight on the iframe does not\n        // successfully constrain its size. As such, skip assertions in environments where the\n        // window size has changed since the start of the test.\n        if (window.innerWidth > startingWindowWidth || window.innerHeight > startingWindowHeight) {\n          return;\n        }\n\n        expect(pxStringToFloat(ripple.style.left)).toBeCloseTo(expectedLeft, 1);\n        expect(pxStringToFloat(ripple.style.top)).toBeCloseTo(expectedTop, 1);\n        expect(pxStringToFloat(ripple.style.width)).toBeCloseTo(2 * expectedRadius, 1);\n        expect(pxStringToFloat(ripple.style.height)).toBeCloseTo(2 * expectedRadius, 1);\n      });\n    });\n\n  });\n\n  describe('manual ripples', () => {\n    let rippleDirective: MatRipple;\n\n    beforeEach(() => {\n      fixture = TestBed.createComponent(BasicRippleContainer);\n      fixture.detectChanges();\n\n      rippleTarget = fixture.nativeElement.querySelector('.mat-ripple');\n      rippleDirective = fixture.componentInstance.ripple;\n    });\n\n    it('should allow persistent ripple elements', fakeAsync(() => {\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      let rippleRef = rippleDirective.launch(0, 0, { persistent: true });\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      // Calculates the duration for fading-in and fading-out the ripple. Also adds some\n      // extra time to demonstrate that the ripples are persistent.\n      tick(enterDuration + exitDuration + 5000);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      rippleRef.fadeOut();\n\n      tick(exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n\n   it('should remove ripples that are not done fading-in', fakeAsync(() => {\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      rippleDirective.launch(0, 0);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      tick(enterDuration / 2);\n\n      rippleDirective.fadeOutAll();\n\n      tick(exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length)\n        .toBe(0, 'Expected no ripples to be active after calling fadeOutAll.');\n    }));\n\n   it('should properly set ripple states', fakeAsync(() => {\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n     let rippleRef = rippleDirective.launch(0, 0, { persistent: true });\n\n     expect(rippleRef.state).toBe(RippleState.FADING_IN);\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n     tick(enterDuration);\n\n     expect(rippleRef.state).toBe(RippleState.VISIBLE);\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n     rippleRef.fadeOut();\n\n     expect(rippleRef.state).toBe(RippleState.FADING_OUT);\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n     tick(exitDuration);\n\n     expect(rippleRef.state).toBe(RippleState.HIDDEN);\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n   }));\n\n   it('should allow setting a specific animation config for a ripple', fakeAsync(() => {\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n     rippleDirective.launch(0, 0, {\n       animation: {enterDuration: 120, exitDuration: 0}\n     });\n\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n     tick(120);\n\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n   }));\n\n   it('should allow passing only a configuration', fakeAsync(() => {\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n     const rippleRef = rippleDirective.launch({persistent: true});\n\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n     tick(enterDuration + exitDuration);\n\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n     rippleRef.fadeOut();\n\n     tick(exitDuration);\n\n     expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n   }));\n  });\n\n  describe('global ripple options', () => {\n    let rippleDirective: MatRipple;\n\n    function createTestComponent(rippleConfig: RippleGlobalOptions,\n                                 testComponent: any = BasicRippleContainer) {\n      // Reset the previously configured testing module to be able set new providers.\n      // The testing module has been initialized in the root describe group for the ripples.\n      TestBed.resetTestingModule();\n      TestBed.configureTestingModule({\n        imports: [MatRippleModule],\n        declarations: [testComponent],\n        providers: [{ provide: MAT_RIPPLE_GLOBAL_OPTIONS, useValue: rippleConfig }]\n      });\n\n      fixture = TestBed.createComponent(testComponent);\n      fixture.detectChanges();\n\n      rippleTarget = fixture.nativeElement.querySelector('.mat-ripple');\n      rippleDirective = fixture.componentInstance.ripple;\n    }\n\n    it('should work without having any binding set', () => {\n      createTestComponent({ disabled: true }, RippleContainerWithoutBindings);\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    });\n\n    it('when disabled should not show any ripples on mousedown', () => {\n      createTestComponent({ disabled: true });\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    });\n\n    it('when disabled should still allow manual ripples', () => {\n      createTestComponent({ disabled: true });\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      rippleDirective.launch(0, 0);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n    });\n\n    it('should support changing the animation duration', fakeAsync(() => {\n      createTestComponent({\n        animation: {enterDuration: 100, exitDuration: 100}\n      });\n\n      rippleDirective.launch(0, 0);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      // Wait the 200ms of the enter duration and exit duration.\n      tick(100 + 100);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n\n    it('should allow ripples to fade out immediately on pointer up', fakeAsync(() => {\n      createTestComponent({\n        terminateOnPointerUp: true\n      });\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      // Ignore the enter duration, because we immediately fired the mouseup after the mousedown.\n      // This means that the ripple should just fade out, and there shouldn't be an enter animation.\n      tick(exitDuration);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      // Since the enter duration is bigger than the exit duration, the enter duration timer\n      // will still exist. To properly finish all timers, we just wait the remaining time.\n      tick(enterDuration - exitDuration);\n    }));\n  });\n\n  describe('with disabled animations', () => {\n    let rippleDirective: MatRipple;\n\n    beforeEach(() => {\n      TestBed.resetTestingModule();\n      TestBed.configureTestingModule({\n        imports: [NoopAnimationsModule, MatRippleModule],\n        declarations: [BasicRippleContainer],\n      });\n\n      fixture = TestBed.createComponent(BasicRippleContainer);\n      fixture.detectChanges();\n\n      rippleTarget = fixture.nativeElement.querySelector('.mat-ripple');\n      rippleDirective = fixture.componentInstance.ripple;\n    });\n\n    it('should set the animation durations to zero', () => {\n      expect(rippleDirective.rippleConfig.animation!.enterDuration).toBe(0);\n      expect(rippleDirective.rippleConfig.animation!.exitDuration).toBe(0);\n    });\n  });\n\n  describe('configuring behavior', () => {\n    let controller: RippleContainerWithInputBindings;\n\n    beforeEach(() => {\n      fixture = TestBed.createComponent(RippleContainerWithInputBindings);\n      fixture.detectChanges();\n\n      controller = fixture.debugElement.componentInstance;\n      rippleTarget = fixture.debugElement.nativeElement.querySelector('.mat-ripple');\n    });\n\n    it('sets ripple color', () => {\n      const backgroundColor = 'rgba(12, 34, 56, 0.8)';\n\n      controller.color = backgroundColor;\n      fixture.detectChanges();\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      let ripple = rippleTarget.querySelector('.mat-ripple-element')!;\n      expect(window.getComputedStyle(ripple).backgroundColor).toBe(backgroundColor);\n    });\n\n    it('does not respond to events when disabled input is set', () => {\n      controller.disabled = true;\n      fixture.detectChanges();\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      controller.disabled = false;\n      fixture.detectChanges();\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n    });\n\n    it('allows specifying custom trigger element', () => {\n      let alternateTrigger = fixture.debugElement.nativeElement\n        .querySelector('.alternateTrigger') as HTMLElement;\n\n      dispatchMouseEvent(alternateTrigger, 'mousedown');\n      dispatchMouseEvent(alternateTrigger, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n\n      // Set the trigger element, and now events should create ripples.\n      controller.trigger = alternateTrigger;\n      fixture.detectChanges();\n\n      dispatchMouseEvent(alternateTrigger, 'mousedown');\n      dispatchMouseEvent(alternateTrigger, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n    });\n\n    it('expands ripple from center if centered input is set', () => {\n      controller.centered = true;\n      fixture.detectChanges();\n\n      let elementRect = rippleTarget.getBoundingClientRect();\n\n      // Click the ripple element 50 px to the right and 75px down from its upper left.\n      dispatchMouseEvent(rippleTarget, 'mousedown', 50, 75);\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      // Because the centered input is true, the center of the ripple should be the midpoint of the\n      // bounding rect. The ripple should expand to cover the rect corners, which are 150px\n      // horizontally and 100px vertically from the midpoint.\n      let expectedRadius = Math.sqrt(150 * 150 + 100 * 100);\n      let expectedLeft = elementRect.left + (elementRect.width / 2) - expectedRadius;\n      let expectedTop = elementRect.top + (elementRect.height / 2) - expectedRadius;\n\n      let ripple = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\n\n      expect(pxStringToFloat(ripple.style.left)).toBeCloseTo(expectedLeft, 1);\n      expect(pxStringToFloat(ripple.style.top)).toBeCloseTo(expectedTop, 1);\n      expect(pxStringToFloat(ripple.style.width)).toBeCloseTo(2 * expectedRadius, 1);\n      expect(pxStringToFloat(ripple.style.height)).toBeCloseTo(2 * expectedRadius, 1);\n    });\n\n    it('uses custom radius if set', () => {\n      let customRadius = 42;\n\n      controller.radius = customRadius;\n      fixture.detectChanges();\n\n      let elementRect = rippleTarget.getBoundingClientRect();\n\n      // Click the ripple element 50 px to the right and 75px down from its upper left.\n      dispatchMouseEvent(rippleTarget, 'mousedown', 50, 75);\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      let expectedLeft = elementRect.left + 50 - customRadius;\n      let expectedTop = elementRect.top + 75 - customRadius;\n\n      let ripple = rippleTarget.querySelector('.mat-ripple-element') as HTMLElement;\n\n      expect(pxStringToFloat(ripple.style.left)).toBeCloseTo(expectedLeft, 1);\n      expect(pxStringToFloat(ripple.style.top)).toBeCloseTo(expectedTop, 1);\n      expect(pxStringToFloat(ripple.style.width)).toBeCloseTo(2 * customRadius, 1);\n      expect(pxStringToFloat(ripple.style.height)).toBeCloseTo(2 * customRadius, 1);\n    });\n\n    it('should be able to specify animation config through binding', fakeAsync(() => {\n      controller.animationConfig = {enterDuration: 150, exitDuration: 150};\n      fixture.detectChanges();\n\n      dispatchMouseEvent(rippleTarget, 'mousedown');\n      dispatchMouseEvent(rippleTarget, 'mouseup');\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(1);\n\n      tick(150 + 150);\n\n      expect(rippleTarget.querySelectorAll('.mat-ripple-element').length).toBe(0);\n    }));\n  });\n\n});\n\n@Component({\n  template: `\n    <div id=\"container\" #ripple=\"matRipple\" matRipple\n         style=\"position: relative; width:300px; height:200px;\">\n    </div>\n  `,\n})\nclass BasicRippleContainer {\n  @ViewChild('ripple') ripple: MatRipple;\n}\n\n@Component({\n  template: `\n    <div id=\"container\" style=\"position: relative; width:300px; height:200px;\"\n      matRipple\n      [matRippleTrigger]=\"trigger\"\n      [matRippleCentered]=\"centered\"\n      [matRippleRadius]=\"radius\"\n      [matRippleDisabled]=\"disabled\"\n      [matRippleAnimation]=\"animationConfig\"\n      [matRippleColor]=\"color\">\n    </div>\n    <div class=\"alternateTrigger\"></div>\n  `,\n})\nclass RippleContainerWithInputBindings {\n  animationConfig: RippleAnimationConfig;\n  trigger: HTMLElement;\n  centered = false;\n  disabled = false;\n  radius = 0;\n  color = '';\n  @ViewChild(MatRipple) ripple: MatRipple;\n}\n\n@Component({\n  template: `<div id=\"container\" #ripple=\"matRipple\" matRipple></div>`,\n})\nclass RippleContainerWithoutBindings {}\n\n@Component({ template: `<div id=\"container\" matRipple\n                             *ngIf=\"!isDestroyed\"></div>` })\nclass RippleContainerWithNgIf {\n  @ViewChild(MatRipple) ripple: MatRipple;\n  isDestroyed = false;\n}\n"]}