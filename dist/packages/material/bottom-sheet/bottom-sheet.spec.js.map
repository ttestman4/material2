{"version":3,"file":"bottom-sheet.spec.js","sourceRoot":"","sources":["../../../../src/lib/bottom-sheet/bottom-sheet.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {Directionality} from '@angular/cdk/bidi';\nimport {A, ESCAPE} from '@angular/cdk/keycodes';\nimport {OverlayContainer} from '@angular/cdk/overlay';\nimport {ViewportRuler} from '@angular/cdk/scrolling';\nimport {dispatchKeyboardEvent} from '@angular/cdk/testing';\nimport {\n  Component,\n  Directive,\n  Inject,\n  Injector,\n  NgModule,\n  TemplateRef,\n  ViewChild,\n  ViewContainerRef,\n} from '@angular/core';\nimport {\n  ComponentFixture,\n  fakeAsync,\n  flush,\n  flushMicrotasks,\n  inject,\n  TestBed,\n  tick,\n} from '@angular/core/testing';\nimport {Location} from '@angular/common';\nimport {SpyLocation} from '@angular/common/testing';\nimport {NoopAnimationsModule} from '@angular/platform-browser/animations';\nimport {MatBottomSheet, MAT_BOTTOM_SHEET_DEFAULT_OPTIONS} from './bottom-sheet';\nimport {MAT_BOTTOM_SHEET_DATA, MatBottomSheetConfig} from './bottom-sheet-config';\nimport {MatBottomSheetModule} from './bottom-sheet-module';\nimport {MatBottomSheetRef} from './bottom-sheet-ref';\n\n\ndescribe('MatBottomSheet', () => {\n  let bottomSheet: MatBottomSheet;\n  let overlayContainer: OverlayContainer;\n  let overlayContainerElement: HTMLElement;\n  let viewportRuler: ViewportRuler;\n\n  let testViewContainerRef: ViewContainerRef;\n  let viewContainerFixture: ComponentFixture<ComponentWithChildViewContainer>;\n  let mockLocation: SpyLocation;\n\n  beforeEach(fakeAsync(() => {\n    TestBed\n      .configureTestingModule({\n        imports: [MatBottomSheetModule, BottomSheetTestModule],\n        providers: [{provide: Location, useClass: SpyLocation}]\n      })\n      .compileComponents();\n  }));\n\n  beforeEach(inject([MatBottomSheet, OverlayContainer, ViewportRuler, Location],\n    (bs: MatBottomSheet, oc: OverlayContainer, vr: ViewportRuler, l: Location) => {\n      bottomSheet = bs;\n      overlayContainer = oc;\n      viewportRuler = vr;\n      overlayContainerElement = oc.getContainerElement();\n      mockLocation = l as SpyLocation;\n    }));\n\n  afterEach(() => {\n    overlayContainer.ngOnDestroy();\n  });\n\n  beforeEach(() => {\n    viewContainerFixture = TestBed.createComponent(ComponentWithChildViewContainer);\n\n    viewContainerFixture.detectChanges();\n    testViewContainerRef = viewContainerFixture.componentInstance.childViewContainer;\n  });\n\n  it('should open a bottom sheet with a component', () => {\n    const bottomSheetRef = bottomSheet.open(PizzaMsg, {viewContainerRef: testViewContainerRef});\n\n    viewContainerFixture.detectChanges();\n\n    expect(overlayContainerElement.textContent).toContain('Pizza');\n    expect(bottomSheetRef.instance instanceof PizzaMsg).toBe(true);\n    expect(bottomSheetRef.instance.bottomSheetRef).toBe(bottomSheetRef);\n  });\n\n  it('should open a bottom sheet with a template', () => {\n    const templateRefFixture = TestBed.createComponent(ComponentWithTemplateRef);\n    templateRefFixture.componentInstance.localValue = 'Bees';\n    templateRefFixture.detectChanges();\n\n    const bottomSheetRef = bottomSheet.open(templateRefFixture.componentInstance.templateRef, {\n      data: {value: 'Knees'}\n    });\n\n    viewContainerFixture.detectChanges();\n\n    expect(overlayContainerElement.textContent).toContain('Cheese Bees Knees');\n    expect(templateRefFixture.componentInstance.bottomSheetRef).toBe(bottomSheetRef);\n  });\n\n  it('should position the bottom sheet at the bottom center of the screen', () => {\n    bottomSheet.open(PizzaMsg, {viewContainerRef: testViewContainerRef});\n\n    viewContainerFixture.detectChanges();\n\n    const containerElement = overlayContainerElement.querySelector('mat-bottom-sheet-container')!;\n    const containerRect = containerElement.getBoundingClientRect();\n    const viewportSize = viewportRuler.getViewportSize();\n\n    expect(Math.floor(containerRect.bottom)).toBe(Math.floor(viewportSize.height));\n    expect(Math.floor(containerRect.left + containerRect.width / 2))\n        .toBe(Math.floor(viewportSize.width / 2));\n  });\n\n  it('should emit when the bottom sheet opening animation is complete', fakeAsync(() => {\n    const bottomSheetRef = bottomSheet.open(PizzaMsg, {viewContainerRef: testViewContainerRef});\n    const spy = jasmine.createSpy('afterOpened spy');\n\n    bottomSheetRef.afterOpened().subscribe(spy);\n    viewContainerFixture.detectChanges();\n\n    // callback should not be called before animation is complete\n    expect(spy).not.toHaveBeenCalled();\n\n    flushMicrotasks();\n    expect(spy).toHaveBeenCalled();\n  }));\n\n  it('should use the correct injector', () => {\n    const bottomSheetRef = bottomSheet.open(PizzaMsg, {viewContainerRef: testViewContainerRef});\n    viewContainerFixture.detectChanges();\n    const injector = bottomSheetRef.instance.injector;\n\n    expect(bottomSheetRef.instance.bottomSheetRef).toBe(bottomSheetRef);\n    expect(injector.get<DirectiveWithViewContainer>(DirectiveWithViewContainer)).toBeTruthy();\n  });\n\n  it('should open a bottom sheet with a component and no ViewContainerRef', () => {\n    const bottomSheetRef = bottomSheet.open(PizzaMsg);\n\n    viewContainerFixture.detectChanges();\n\n    expect(overlayContainerElement.textContent).toContain('Pizza');\n    expect(bottomSheetRef.instance instanceof PizzaMsg).toBe(true);\n    expect(bottomSheetRef.instance.bottomSheetRef).toBe(bottomSheetRef);\n  });\n\n  it('should apply the correct role to the container element', () => {\n    bottomSheet.open(PizzaMsg);\n\n    viewContainerFixture.detectChanges();\n\n    const containerElement = overlayContainerElement.querySelector('mat-bottom-sheet-container')!;\n    expect(containerElement.getAttribute('role')).toBe('dialog');\n  });\n\n  it('should close a bottom sheet via the escape key', fakeAsync(() => {\n    bottomSheet.open(PizzaMsg, {viewContainerRef: testViewContainerRef});\n\n    dispatchKeyboardEvent(document.body, 'keydown', ESCAPE);\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeNull();\n  }));\n\n  it('should close when clicking on the overlay backdrop', fakeAsync(() => {\n    bottomSheet.open(PizzaMsg, {\n      viewContainerRef: testViewContainerRef\n    });\n\n    viewContainerFixture.detectChanges();\n\n    let backdrop = overlayContainerElement.querySelector('.cdk-overlay-backdrop') as HTMLElement;\n\n    backdrop.click();\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeFalsy();\n  }));\n\n  it('should emit the backdropClick stream when clicking on the overlay backdrop', fakeAsync(() => {\n    const bottomSheetRef = bottomSheet.open(PizzaMsg, {viewContainerRef: testViewContainerRef});\n    const spy = jasmine.createSpy('backdropClick spy');\n\n    bottomSheetRef.backdropClick().subscribe(spy);\n    viewContainerFixture.detectChanges();\n\n    const backdrop = overlayContainerElement.querySelector('.cdk-overlay-backdrop') as HTMLElement;\n\n    backdrop.click();\n    expect(spy).toHaveBeenCalledTimes(1);\n\n    viewContainerFixture.detectChanges();\n    flush();\n\n    // Additional clicks after the bottom sheet was closed should not be emitted\n    backdrop.click();\n    expect(spy).toHaveBeenCalledTimes(1);\n  }));\n\n  it('should emit the keyboardEvent stream when key events target the overlay', fakeAsync(() => {\n    const bottomSheetRef = bottomSheet.open(PizzaMsg, {viewContainerRef: testViewContainerRef});\n    const spy = jasmine.createSpy('keyboardEvent spy');\n\n    bottomSheetRef.keydownEvents().subscribe(spy);\n    viewContainerFixture.detectChanges();\n\n    const backdrop = overlayContainerElement.querySelector('.cdk-overlay-backdrop') as HTMLElement;\n    const container =\n        overlayContainerElement.querySelector('mat-bottom-sheet-container') as HTMLElement;\n    dispatchKeyboardEvent(document.body, 'keydown', A);\n    dispatchKeyboardEvent(document.body, 'keydown', A, backdrop);\n    dispatchKeyboardEvent(document.body, 'keydown', A, container);\n\n    expect(spy).toHaveBeenCalledTimes(3);\n  }));\n\n  it('should allow setting the layout direction', () => {\n    bottomSheet.open(PizzaMsg, {direction: 'rtl'});\n\n    viewContainerFixture.detectChanges();\n\n    let overlayPane = overlayContainerElement.querySelector('.cdk-global-overlay-wrapper')!;\n\n    expect(overlayPane.getAttribute('dir')).toBe('rtl');\n  });\n\n  it('should inject the correct direction in the instantiated component', () => {\n    const bottomSheetRef = bottomSheet.open(PizzaMsg, {direction: 'rtl'});\n\n    viewContainerFixture.detectChanges();\n\n    expect(bottomSheetRef.instance.directionality.value).toBe('rtl');\n  });\n\n  it('should fall back to injecting the global direction if none is passed by the config', () => {\n    const bottomSheetRef = bottomSheet.open(PizzaMsg, {});\n\n    viewContainerFixture.detectChanges();\n\n    expect(bottomSheetRef.instance.directionality.value).toBe('ltr');\n  });\n\n  it('should be able to set a custom panel class', () => {\n    bottomSheet.open(PizzaMsg, {\n      panelClass: 'custom-panel-class',\n      viewContainerRef: testViewContainerRef\n    });\n\n    viewContainerFixture.detectChanges();\n\n    expect(overlayContainerElement.querySelector('.custom-panel-class')).toBeTruthy();\n  });\n\n  it('should be able to set a custom aria-label', () => {\n    bottomSheet.open(PizzaMsg, {\n      ariaLabel: 'Hello there',\n      viewContainerRef: testViewContainerRef\n    });\n    viewContainerFixture.detectChanges();\n\n    const container = overlayContainerElement.querySelector('mat-bottom-sheet-container')!;\n    expect(container.getAttribute('aria-label')).toBe('Hello there');\n  });\n\n  it('should be able to get dismissed through the service', fakeAsync(() => {\n    bottomSheet.open(PizzaMsg);\n    viewContainerFixture.detectChanges();\n    expect(overlayContainerElement.childElementCount).toBeGreaterThan(0);\n\n    bottomSheet.dismiss();\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(overlayContainerElement.childElementCount).toBe(0);\n  }));\n\n  it('should dismiss the bottom sheet when the service is destroyed', fakeAsync(() => {\n    bottomSheet.open(PizzaMsg);\n    viewContainerFixture.detectChanges();\n    expect(overlayContainerElement.childElementCount).toBeGreaterThan(0);\n\n    bottomSheet.ngOnDestroy();\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(overlayContainerElement.childElementCount).toBe(0);\n  }));\n\n  it('should open a new bottom sheet after dismissing a previous sheet', fakeAsync(() => {\n    let config: MatBottomSheetConfig = {viewContainerRef: testViewContainerRef};\n    let bottomSheetRef: MatBottomSheetRef<any> = bottomSheet.open(PizzaMsg, config);\n\n    viewContainerFixture.detectChanges();\n\n    bottomSheetRef.dismiss();\n    viewContainerFixture.detectChanges();\n\n    // Wait for the dismiss animation to finish.\n    flush();\n    bottomSheetRef = bottomSheet.open(TacoMsg, config);\n    viewContainerFixture.detectChanges();\n\n    // Wait for the open animation to finish.\n    flush();\n    expect(bottomSheetRef.containerInstance._animationState)\n        .toBe('visible', `Expected the animation state would be 'visible'.`);\n  }));\n\n  it('should remove past bottom sheets when opening new ones', fakeAsync(() => {\n    bottomSheet.open(PizzaMsg);\n    viewContainerFixture.detectChanges();\n\n    bottomSheet.open(TacoMsg);\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(overlayContainerElement.textContent).toContain('Taco');\n  }));\n\n  it('should not throw when opening multiple bottom sheet in quick succession', fakeAsync(() => {\n    expect(() => {\n      for (let i = 0; i < 3; i++) {\n        bottomSheet.open(PizzaMsg);\n        viewContainerFixture.detectChanges();\n      }\n\n      flush();\n    }).not.toThrow();\n  }));\n\n  it('should remove bottom sheet if another is shown while its still animating open',\n    fakeAsync(() => {\n      bottomSheet.open(PizzaMsg);\n      viewContainerFixture.detectChanges();\n\n      bottomSheet.open(TacoMsg);\n      viewContainerFixture.detectChanges();\n\n      tick();\n      expect(overlayContainerElement.textContent).toContain('Taco');\n      tick(500);\n    }));\n\n  it('should emit after being dismissed', fakeAsync(() => {\n    const bottomSheetRef = bottomSheet.open(PizzaMsg);\n    const spy = jasmine.createSpy('afterDismissed spy');\n\n    bottomSheetRef.afterDismissed().subscribe(spy);\n    viewContainerFixture.detectChanges();\n\n    bottomSheetRef.dismiss();\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(spy).toHaveBeenCalledTimes(1);\n  }));\n\n  it('should be able to pass a result back to the dismissed stream', fakeAsync(() => {\n    const bottomSheetRef = bottomSheet.open<PizzaMsg, any, number>(PizzaMsg);\n    const spy = jasmine.createSpy('afterDismissed spy');\n\n    bottomSheetRef.afterDismissed().subscribe(spy);\n    viewContainerFixture.detectChanges();\n\n    bottomSheetRef.dismiss(1337);\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(spy).toHaveBeenCalledWith(1337);\n  }));\n\n  it('should close the bottom sheet when going forwards/backwards in history', fakeAsync(() => {\n    bottomSheet.open(PizzaMsg);\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeTruthy();\n\n    mockLocation.simulateUrlPop('');\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeFalsy();\n  }));\n\n  it('should close the bottom sheet when the location hash changes', fakeAsync(() => {\n    bottomSheet.open(PizzaMsg);\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeTruthy();\n\n    mockLocation.simulateHashChange('');\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeFalsy();\n  }));\n\n  it('should allow the consumer to disable closing a bottom sheet on navigation', fakeAsync(() => {\n    bottomSheet.open(PizzaMsg, {closeOnNavigation: false});\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeTruthy();\n\n    mockLocation.simulateUrlPop('');\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeTruthy();\n  }));\n\n  describe('passing in data', () => {\n    it('should be able to pass in data', () => {\n      const config = {\n        data: {\n          stringParam: 'hello',\n          dateParam: new Date()\n        }\n      };\n\n      const instance = bottomSheet.open(BottomSheetWithInjectedData, config).instance;\n\n      expect(instance.data.stringParam).toBe(config.data.stringParam);\n      expect(instance.data.dateParam).toBe(config.data.dateParam);\n    });\n\n    it('should default to null if no data is passed', () => {\n      expect(() => {\n        const bottomSheetRef = bottomSheet.open(BottomSheetWithInjectedData);\n        expect(bottomSheetRef.instance.data).toBeNull();\n      }).not.toThrow();\n    });\n  });\n\n  describe('disableClose option', () => {\n    it('should prevent closing via clicks on the backdrop', fakeAsync(() => {\n      bottomSheet.open(PizzaMsg, {\n        disableClose: true,\n        viewContainerRef: testViewContainerRef\n      });\n\n      viewContainerFixture.detectChanges();\n\n      let backdrop = overlayContainerElement.querySelector('.cdk-overlay-backdrop') as HTMLElement;\n      backdrop.click();\n      viewContainerFixture.detectChanges();\n      flush();\n\n      expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeTruthy();\n    }));\n\n    it('should prevent closing via the escape key', fakeAsync(() => {\n      bottomSheet.open(PizzaMsg, {\n        disableClose: true,\n        viewContainerRef: testViewContainerRef\n      });\n\n      viewContainerFixture.detectChanges();\n      dispatchKeyboardEvent(document.body, 'keydown', ESCAPE);\n      viewContainerFixture.detectChanges();\n      flush();\n\n      expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeTruthy();\n    }));\n\n    it('should allow for the disableClose option to be updated while open', fakeAsync(() => {\n      let bottomSheetRef = bottomSheet.open(PizzaMsg, {\n        disableClose: true,\n        viewContainerRef: testViewContainerRef\n      });\n\n      viewContainerFixture.detectChanges();\n\n      let backdrop = overlayContainerElement.querySelector('.cdk-overlay-backdrop') as HTMLElement;\n      backdrop.click();\n\n      expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeTruthy();\n\n      bottomSheetRef.disableClose = false;\n      backdrop.click();\n      viewContainerFixture.detectChanges();\n      flush();\n\n      expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeFalsy();\n    }));\n\n  });\n\n  describe('hasBackdrop option', () => {\n    it('should have a backdrop', () => {\n      bottomSheet.open(PizzaMsg, {\n        hasBackdrop: true,\n        viewContainerRef: testViewContainerRef\n      });\n\n      viewContainerFixture.detectChanges();\n\n      expect(overlayContainerElement.querySelector('.cdk-overlay-backdrop')).toBeTruthy();\n    });\n\n    it('should not have a backdrop', () => {\n      bottomSheet.open(PizzaMsg, {\n        hasBackdrop: false,\n        viewContainerRef: testViewContainerRef\n      });\n\n      viewContainerFixture.detectChanges();\n\n      expect(overlayContainerElement.querySelector('.cdk-overlay-backdrop')).toBeFalsy();\n    });\n  });\n\n  describe('backdropClass option', () => {\n    it('should have default backdrop class', () => {\n      bottomSheet.open(PizzaMsg, {\n        backdropClass: '',\n        viewContainerRef: testViewContainerRef\n      });\n\n      viewContainerFixture.detectChanges();\n\n      expect(overlayContainerElement.querySelector('.cdk-overlay-dark-backdrop')).toBeTruthy();\n    });\n\n    it('should have custom backdrop class', () => {\n      bottomSheet.open(PizzaMsg, {\n        backdropClass: 'custom-backdrop-class',\n        viewContainerRef: testViewContainerRef\n      });\n\n      viewContainerFixture.detectChanges();\n\n      expect(overlayContainerElement.querySelector('.custom-backdrop-class')).toBeTruthy();\n    });\n  });\n\n  describe('focus management', () => {\n    // When testing focus, all of the elements must be in the DOM.\n    beforeEach(() => document.body.appendChild(overlayContainerElement));\n    afterEach(() => document.body.removeChild(overlayContainerElement));\n\n    it('should focus the bottom sheet container by default', fakeAsync(() => {\n      bottomSheet.open(PizzaMsg, {\n        viewContainerRef: testViewContainerRef,\n      });\n\n      viewContainerFixture.detectChanges();\n      flushMicrotasks();\n\n      expect(document.activeElement!.tagName).toBe('MAT-BOTTOM-SHEET-CONTAINER',\n          'Expected bottom sheet container to be focused.');\n    }));\n\n    it('should focus the first tabbable element of the bottom sheet on open when' +\n      'autoFocus is enabled', fakeAsync(() => {\n        bottomSheet.open(PizzaMsg, {\n          viewContainerRef: testViewContainerRef,\n          autoFocus: true\n        });\n\n        viewContainerFixture.detectChanges();\n        flushMicrotasks();\n\n        expect(document.activeElement!.tagName).toBe('INPUT',\n            'Expected first tabbable element (input) in the sheet to be focused.');\n      }));\n\n    it('should allow disabling focus of the first tabbable element', fakeAsync(() => {\n      bottomSheet.open(PizzaMsg, {\n        viewContainerRef: testViewContainerRef,\n        autoFocus: false\n      });\n\n      viewContainerFixture.detectChanges();\n      flushMicrotasks();\n\n      expect(document.activeElement!.tagName).not.toBe('INPUT');\n    }));\n\n    it('should re-focus trigger element when bottom sheet closes', fakeAsync(() => {\n      const button = document.createElement('button');\n      button.id = 'bottom-sheet-trigger';\n      document.body.appendChild(button);\n      button.focus();\n\n      const bottomSheetRef = bottomSheet.open(PizzaMsg, { viewContainerRef: testViewContainerRef });\n\n      flushMicrotasks();\n      viewContainerFixture.detectChanges();\n      flushMicrotasks();\n\n      expect(document.activeElement!.id)\n          .not.toBe('bottom-sheet-trigger', 'Expected the focus to change when sheet was opened.');\n\n      bottomSheetRef.dismiss();\n      expect(document.activeElement!.id).not.toBe('bottom-sheet-trigger',\n          'Expcted the focus not to have changed before the animation finishes.');\n\n      flushMicrotasks();\n      viewContainerFixture.detectChanges();\n      tick(500);\n\n      expect(document.activeElement!.id).toBe('bottom-sheet-trigger',\n          'Expected that the trigger was refocused after the sheet is closed.');\n\n      document.body.removeChild(button);\n    }));\n\n    it('should be able to disable focus restoration', fakeAsync(() => {\n      const button = document.createElement('button');\n      button.id = 'bottom-sheet-trigger';\n      document.body.appendChild(button);\n      button.focus();\n\n      const bottomSheetRef = bottomSheet.open(PizzaMsg, {\n        viewContainerRef: testViewContainerRef,\n        restoreFocus: false\n      });\n\n      flushMicrotasks();\n      viewContainerFixture.detectChanges();\n      flushMicrotasks();\n\n      expect(document.activeElement!.id)\n          .not.toBe('bottom-sheet-trigger', 'Expected the focus to change when sheet was opened.');\n\n      bottomSheetRef.dismiss();\n      expect(document.activeElement!.id).not.toBe('bottom-sheet-trigger',\n          'Expcted the focus not to have changed before the animation finishes.');\n\n      flushMicrotasks();\n      viewContainerFixture.detectChanges();\n      tick(500);\n\n      expect(document.activeElement!.id).not.toBe('bottom-sheet-trigger',\n          'Expected the trigger not to be refocused on close.');\n\n      document.body.removeChild(button);\n    }));\n\n  });\n\n});\n\ndescribe('MatBottomSheet with parent MatBottomSheet', () => {\n  let parentBottomSheet: MatBottomSheet;\n  let childBottomSheet: MatBottomSheet;\n  let overlayContainer: OverlayContainer;\n  let overlayContainerElement: HTMLElement;\n  let fixture: ComponentFixture<ComponentThatProvidesMatBottomSheet>;\n\n  beforeEach(fakeAsync(() => {\n    TestBed.configureTestingModule({\n      imports: [MatBottomSheetModule, BottomSheetTestModule, NoopAnimationsModule],\n      declarations: [ComponentThatProvidesMatBottomSheet],\n    }).compileComponents();\n  }));\n\n  beforeEach(inject([MatBottomSheet, OverlayContainer],\n    (bs: MatBottomSheet, oc: OverlayContainer) => {\n    parentBottomSheet = bs;\n    overlayContainer = oc;\n    overlayContainerElement = oc.getContainerElement();\n    fixture = TestBed.createComponent(ComponentThatProvidesMatBottomSheet);\n    childBottomSheet = fixture.componentInstance.bottomSheet;\n    fixture.detectChanges();\n  }));\n\n  afterEach(() => {\n    overlayContainer.ngOnDestroy();\n  });\n\n  it('should close bottom sheets opened by parent when opening from child', fakeAsync(() => {\n    parentBottomSheet.open(PizzaMsg);\n    fixture.detectChanges();\n    tick(1000);\n\n    expect(overlayContainerElement.textContent)\n        .toContain('Pizza', 'Expected a bottom sheet to be opened');\n\n    childBottomSheet.open(TacoMsg);\n    fixture.detectChanges();\n    tick(1000);\n\n    expect(overlayContainerElement.textContent)\n        .toContain('Taco', 'Expected parent bottom sheet to be dismissed by opening from child');\n  }));\n\n  it('should close bottom sheets opened by child when opening from parent', fakeAsync(() => {\n    childBottomSheet.open(PizzaMsg);\n    fixture.detectChanges();\n    tick(1000);\n\n    expect(overlayContainerElement.textContent)\n        .toContain('Pizza', 'Expected a bottom sheet to be opened');\n\n    parentBottomSheet.open(TacoMsg);\n    fixture.detectChanges();\n    tick(1000);\n\n    expect(overlayContainerElement.textContent)\n        .toContain('Taco', 'Expected child bottom sheet to be dismissed by opening from parent');\n  }));\n\n  it('should not close parent bottom sheet when child is destroyed', fakeAsync(() => {\n    parentBottomSheet.open(PizzaMsg);\n    fixture.detectChanges();\n    tick(1000);\n\n    expect(overlayContainerElement.textContent)\n        .toContain('Pizza', 'Expected a bottom sheet to be opened');\n\n    childBottomSheet.ngOnDestroy();\n    fixture.detectChanges();\n    tick(1000);\n\n    expect(overlayContainerElement.textContent)\n        .toContain('Pizza', 'Expected a bottom sheet to stay open');\n  }));\n\n});\n\ndescribe('MatBottomSheet with default options', () => {\n  let bottomSheet: MatBottomSheet;\n  let overlayContainer: OverlayContainer;\n  let overlayContainerElement: HTMLElement;\n\n  let testViewContainerRef: ViewContainerRef;\n  let viewContainerFixture: ComponentFixture<ComponentWithChildViewContainer>;\n\n  beforeEach(fakeAsync(() => {\n    const defaultConfig: MatBottomSheetConfig = {\n      hasBackdrop: false,\n      disableClose: true,\n      autoFocus: false\n    };\n\n    TestBed.configureTestingModule({\n      imports: [MatBottomSheetModule, BottomSheetTestModule],\n      providers: [\n        {provide: MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, useValue: defaultConfig},\n      ],\n    });\n\n    TestBed.compileComponents();\n  }));\n\n  beforeEach(inject([MatBottomSheet, OverlayContainer],\n    (b: MatBottomSheet, oc: OverlayContainer) => {\n      bottomSheet = b;\n      overlayContainer = oc;\n      overlayContainerElement = oc.getContainerElement();\n    }));\n\n  afterEach(() => {\n    overlayContainer.ngOnDestroy();\n  });\n\n  beforeEach(() => {\n    viewContainerFixture = TestBed.createComponent(ComponentWithChildViewContainer);\n\n    viewContainerFixture.detectChanges();\n    testViewContainerRef = viewContainerFixture.componentInstance.childViewContainer;\n  });\n\n  it('should use the provided defaults', () => {\n    bottomSheet.open(PizzaMsg, {viewContainerRef: testViewContainerRef});\n\n    viewContainerFixture.detectChanges();\n\n    expect(overlayContainerElement.querySelector('.cdk-overlay-backdrop')).toBeFalsy();\n\n    dispatchKeyboardEvent(document.body, 'keydown', ESCAPE);\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeTruthy();\n    expect(document.activeElement!.tagName).not.toBe('INPUT');\n  });\n\n  it('should be overridable by open() options', fakeAsync(() => {\n    bottomSheet.open(PizzaMsg, {\n      hasBackdrop: true,\n      disableClose: false,\n      viewContainerRef: testViewContainerRef\n    });\n\n    viewContainerFixture.detectChanges();\n\n    expect(overlayContainerElement.querySelector('.cdk-overlay-backdrop')).toBeTruthy();\n\n    dispatchKeyboardEvent(document.body, 'keydown', ESCAPE);\n    viewContainerFixture.detectChanges();\n    flush();\n\n    expect(overlayContainerElement.querySelector('mat-bottom-sheet-container')).toBeFalsy();\n  }));\n});\n\n\n\n@Directive({selector: 'dir-with-view-container'})\nclass DirectiveWithViewContainer {\n  constructor(public viewContainerRef: ViewContainerRef) { }\n}\n\n@Component({template: `<dir-with-view-container></dir-with-view-container>`})\nclass ComponentWithChildViewContainer {\n  @ViewChild(DirectiveWithViewContainer) childWithViewContainer: DirectiveWithViewContainer;\n\n  get childViewContainer() {\n    return this.childWithViewContainer.viewContainerRef;\n  }\n}\n\n@Component({\n  selector: 'arbitrary-component-with-template-ref',\n  template: `<ng-template let-data let-bottomSheetRef=\"bottomSheetRef\">\n      Cheese {{localValue}} {{data?.value}}{{setRef(bottomSheetRef)}}</ng-template>`,\n})\nclass ComponentWithTemplateRef {\n  localValue: string;\n  bottomSheetRef: MatBottomSheetRef<any>;\n\n  @ViewChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  setRef(bottomSheetRef: MatBottomSheetRef<any>): string {\n    this.bottomSheetRef = bottomSheetRef;\n    return '';\n  }\n}\n\n@Component({template: '<p>Pizza</p> <input> <button>Close</button>'})\nclass PizzaMsg {\n  constructor(public bottomSheetRef: MatBottomSheetRef<PizzaMsg>,\n              public injector: Injector,\n              public directionality: Directionality) {}\n}\n\n@Component({template: '<p>Taco</p>'})\nclass TacoMsg {}\n\n@Component({\n  template: '',\n  providers: [MatBottomSheet]\n})\nclass ComponentThatProvidesMatBottomSheet {\n  constructor(public bottomSheet: MatBottomSheet) {}\n}\n\n@Component({template: ''})\nclass BottomSheetWithInjectedData {\n  constructor(@Inject(MAT_BOTTOM_SHEET_DATA) public data: any) { }\n}\n\n// Create a real (non-test) NgModule as a workaround for\n// https://github.com/angular/angular/issues/10760\nconst TEST_DIRECTIVES = [\n  ComponentWithChildViewContainer,\n  ComponentWithTemplateRef,\n  PizzaMsg,\n  TacoMsg,\n  DirectiveWithViewContainer,\n  BottomSheetWithInjectedData,\n];\n\n@NgModule({\n  imports: [MatBottomSheetModule, NoopAnimationsModule],\n  exports: TEST_DIRECTIVES,\n  declarations: TEST_DIRECTIVES,\n  entryComponents: [\n    ComponentWithChildViewContainer,\n    ComponentWithTemplateRef,\n    PizzaMsg,\n    TacoMsg,\n    BottomSheetWithInjectedData,\n  ],\n})\nclass BottomSheetTestModule { }\n"]}