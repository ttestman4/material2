{"version":3,"file":"overlay-container.spec.js","sourceRoot":"","sources":["../../../../src/cdk/overlay/overlay-container.spec.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,iDAA6D;AAC7D,sCAA+E;AAC/E,8CAA4D;AAC5D,iCAAiE;AAEjE,QAAQ,CAAC,kBAAkB,EAAE;IAC3B,IAAI,OAAgB,CAAC;IACrB,IAAI,gBAAkC,CAAC;IAEvC,UAAU,CAAC,eAAK,CAAC;QACf,iBAAO,CAAC,sBAAsB,CAAC;YAC7B,OAAO,EAAE,CAAC,iBAAiB,CAAC;SAC7B,CAAC,CAAC,iBAAiB,EAAE,CAAC;IACzB,CAAC,CAAC,CAAC,CAAC;IAEJ,UAAU,CAAC,gBAAM,CAAC,CAAC,eAAO,EAAE,wBAAgB,CAAC,EAAE,UAAC,CAAU,EAAE,EAAoB;QAC9E,OAAO,GAAG,CAAC,CAAC;QACZ,gBAAgB,GAAG,EAAE,CAAC;IACxB,CAAC,CAAC,CAAC,CAAC;IAEJ,SAAS,CAAC;QACR,gBAAgB,CAAC,WAAW,EAAE,CAAC;IACjC,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,yEAAyE,EAAE;QAC5E,IAAM,OAAO,GAAG,iBAAO,CAAC,eAAe,CAAC,gCAAgC,CAAC,CAAC;QAE1E,IAAM,UAAU,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;QACpC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,iBAAiB,CAAC,cAAc,CAAC,CAAC;QAC5D,OAAO,CAAC,aAAa,EAAE,CAAC;QAExB,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;aACnD,GAAG,CAAC,QAAQ,CAAC,0EAA0E,CAAC,CAAC;QAE9F,qFAAqF;QACrF,6BAA6B;QAC7B,gBAAgB,CAAC,WAAW,EAAE,CAAC;QAE/B,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,wBAAwB,CAAC,CAAC;aACnD,QAAQ,CAAC,yEAAyE,CAAC,CAAC;IAC3F,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,8DAA8D,EAAE;QACjE,gBAAgB,CAAC,mBAAmB,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;QAE1E,IAAM,gBAAgB,GAAG,QAAQ,CAAC,aAAa,CAAC,wBAAwB,CAAE,CAAC;QAC3E,MAAM,CAAC,gBAAgB,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;aAC3D,IAAI,CAAC,IAAI,EAAE,kEAAkE,CAAC,CAAC;QAEpF,gBAAgB,CAAC,mBAAmB,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;QAE7E,MAAM,CAAC,gBAAgB,CAAC,SAAS,CAAC,QAAQ,CAAC,mBAAmB,CAAC,CAAC;aAC3D,IAAI,CAAC,KAAK,EAAE,sEAAsE,CAAC,CAAC;IAC3F,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC;AAEH,0EAA0E;AAK1E;IAGE,0CAAmB,gBAAkC;QAAlC,qBAAgB,GAAhB,gBAAgB,CAAkB;IAAI,CAAC;IAFpC;QAArB,gBAAS,CAAC,kBAAS,CAAC;kCAAiB,kBAAS;4EAAC;IAD5C,gCAAgC;QAJrC,gBAAS,CAAC;YACT,QAAQ,EAAE,4CAA4C;YACtD,SAAS,EAAE,CAAC,eAAO,CAAC;SACrB,CAAC;yCAIqC,uBAAgB;OAHjD,gCAAgC,CAIrC;IAAD,uCAAC;CAAA,AAJD,IAIC;AAMD;IAAA;IAA0B,CAAC;IAArB,iBAAiB;QAJtB,eAAQ,CAAC;YACR,OAAO,EAAE,CAAC,qBAAa,EAAE,qBAAY,CAAC;YACtC,YAAY,EAAE,CAAC,gCAAgC,CAAC;SACjD,CAAC;OACI,iBAAiB,CAAI;IAAD,wBAAC;CAAA,AAA3B,IAA2B","sourcesContent":["import {async, inject, TestBed} from '@angular/core/testing';\nimport {Component, NgModule, ViewChild, ViewContainerRef} from '@angular/core';\nimport {PortalModule, CdkPortal} from '@angular/cdk/portal';\nimport {Overlay, OverlayContainer, OverlayModule} from './index';\n\ndescribe('OverlayContainer', () => {\n  let overlay: Overlay;\n  let overlayContainer: OverlayContainer;\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      imports: [OverlayTestModule]\n    }).compileComponents();\n  }));\n\n  beforeEach(inject([Overlay, OverlayContainer], (o: Overlay, oc: OverlayContainer) => {\n    overlay = o;\n    overlayContainer = oc;\n  }));\n\n  afterEach(() => {\n    overlayContainer.ngOnDestroy();\n  });\n\n  it('should remove the overlay container element from the DOM on destruction', () => {\n    const fixture = TestBed.createComponent(TestComponentWithTemplatePortals);\n\n    const overlayRef = overlay.create();\n    overlayRef.attach(fixture.componentInstance.templatePortal);\n    fixture.detectChanges();\n\n    expect(document.querySelector('.cdk-overlay-container'))\n        .not.toBeNull('Expected the overlay container to be in the DOM after opening an overlay');\n\n    // Manually call `ngOnDestroy` because there is no way to force Angular to destroy an\n    // injectable in a unit test.\n    overlayContainer.ngOnDestroy();\n\n    expect(document.querySelector('.cdk-overlay-container'))\n        .toBeNull('Expected the overlay container *not* to be in the DOM after destruction');\n  });\n\n  it('should add and remove css classes from the container element', () => {\n    overlayContainer.getContainerElement().classList.add('commander-shepard');\n\n    const containerElement = document.querySelector('.cdk-overlay-container')!;\n    expect(containerElement.classList.contains('commander-shepard'))\n        .toBe(true, 'Expected the overlay container to have class \"commander-shepard\"');\n\n    overlayContainer.getContainerElement().classList.remove('commander-shepard');\n\n    expect(containerElement.classList.contains('commander-shepard'))\n        .toBe(false, 'Expected the overlay container not to have class \"commander-shepard\"');\n  });\n});\n\n/** Test-bed component that contains a TempatePortal and an ElementRef. */\n@Component({\n  template: `<ng-template cdk-portal>Cake</ng-template>`,\n  providers: [Overlay],\n})\nclass TestComponentWithTemplatePortals {\n  @ViewChild(CdkPortal) templatePortal: CdkPortal;\n\n  constructor(public viewContainerRef: ViewContainerRef) { }\n}\n\n@NgModule({\n  imports: [OverlayModule, PortalModule],\n  declarations: [TestComponentWithTemplatePortals]\n})\nclass OverlayTestModule { }\n"]}