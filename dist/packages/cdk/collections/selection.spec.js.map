{"version":3,"file":"selection.spec.js","sourceRoot":"","sources":["../../../../src/cdk/collections/selection.spec.ts"],"names":[],"mappings":"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","sourcesContent":["import {getMultipleValuesInSingleSelectionError, SelectionModel} from './selection';\n\n\ndescribe('SelectionModel', () => {\n  describe('single selection', () => {\n    let model: SelectionModel<any>;\n\n    beforeEach(() => model = new SelectionModel());\n\n    it('should be able to select a single value', () => {\n      model.select(1);\n\n      expect(model.selected.length).toBe(1);\n      expect(model.isSelected(1)).toBe(true);\n    });\n\n    it('should deselect the previously selected value', () => {\n      model.select(1);\n      model.select(2);\n\n      expect(model.isSelected(1)).toBe(false);\n      expect(model.isSelected(2)).toBe(true);\n    });\n\n    it('should throw an error if multiple values are passed to model', () => {\n      expect(() => model.select(1, 2)).toThrow(getMultipleValuesInSingleSelectionError());\n    });\n\n    it('should only preselect one value', () => {\n      model = new SelectionModel(false, [1, 2]);\n\n      expect(model.selected.length).toBe(1);\n      expect(model.isSelected(1)).toBe(true);\n      expect(model.isSelected(2)).toBe(false);\n    });\n  });\n\n  describe('multiple selection', () => {\n    let model: SelectionModel<any>;\n\n    beforeEach(() => model = new SelectionModel(true));\n\n    it('should be able to select multiple options', () => {\n      const changedSpy = jasmine.createSpy('changed spy');\n\n      model.changed.subscribe(changedSpy);\n      model.select(1);\n      model.select(2);\n\n      expect(model.selected.length).toBe(2);\n      expect(model.isSelected(1)).toBe(true);\n      expect(model.isSelected(2)).toBe(true);\n      expect(changedSpy).toHaveBeenCalledTimes(2);\n    });\n\n    it('should be able to select multiple options at the same time', () => {\n      const changedSpy = jasmine.createSpy('changed spy');\n\n      model.changed.subscribe(changedSpy);\n      model.select(1, 2);\n\n      expect(model.selected.length).toBe(2);\n      expect(model.isSelected(1)).toBe(true);\n      expect(model.isSelected(2)).toBe(true);\n      expect(changedSpy).toHaveBeenCalledTimes(1);\n    });\n\n    it('should be able to preselect multiple options', () => {\n      model = new SelectionModel(true, [1, 2]);\n\n      expect(model.selected.length).toBe(2);\n      expect(model.isSelected(1)).toBe(true);\n      expect(model.isSelected(2)).toBe(true);\n    });\n\n    it('should be able to sort the selected values', () => {\n      model = new SelectionModel(true, [2, 3, 1]);\n\n      expect(model.selected).toEqual([2, 3, 1]);\n\n      model.sort();\n\n      expect(model.selected).toEqual([1, 2, 3]);\n    });\n\n    it('should sort values if `selected` has not been accessed before', () => {\n      model = new SelectionModel(true, [2, 3, 1]);\n\n      // Important: don't assert `selected` before sorting so the getter isn't invoked\n      model.sort();\n      expect(model.selected).toEqual([1, 2, 3]);\n    });\n  });\n\n  describe('changed event', () => {\n    it('should return the model that dispatched the event', () => {\n      let model = new SelectionModel();\n      let spy = jasmine.createSpy('SelectionModel change event');\n\n      model.changed.subscribe(spy);\n      model.select(1);\n\n      let event = spy.calls.mostRecent().args[0];\n\n      expect(spy).toHaveBeenCalled();\n      expect(event.source).toBe(model);\n    });\n\n    it('should return both the added and removed values', () => {\n      let model = new SelectionModel();\n      let spy = jasmine.createSpy('SelectionModel change event');\n\n      model.select(1);\n\n      model.changed.subscribe(spy);\n\n      model.select(2);\n\n      let event = spy.calls.mostRecent().args[0];\n\n      expect(spy).toHaveBeenCalled();\n      expect(event.removed).toEqual([1]);\n      expect(event.added).toEqual([2]);\n    });\n\n    it('should have updated the selected value before emitting the change event', () => {\n      let model = new SelectionModel(true);\n      let spy = jasmine.createSpy('SelectionModel change event');\n\n      // Note: this assertion is only here to run the getter.\n      expect(model.selected).toEqual([]);\n\n      model.changed.subscribe(() => spy(model.selected));\n      model.select(1);\n\n      expect(spy).toHaveBeenCalledWith([1]);\n    });\n\n    describe('selection', () => {\n      let model: SelectionModel<any>;\n      let spy: jasmine.Spy;\n\n      beforeEach(() => {\n        model = new SelectionModel(true);\n        spy = jasmine.createSpy('SelectionModel change event');\n\n        model.changed.subscribe(spy);\n      });\n\n      it('should emit an event when a value is selected', () => {\n        model.select(1);\n\n        let event = spy.calls.mostRecent().args[0];\n\n        expect(spy).toHaveBeenCalled();\n        expect(event.added).toEqual([1]);\n        expect(event.removed).toEqual([]);\n      });\n\n      it('should not emit multiple events for the same value', () => {\n        model.select(1);\n        model.select(1);\n\n        expect(spy).toHaveBeenCalledTimes(1);\n      });\n\n      it('should not emit an event when preselecting values', () => {\n        model = new SelectionModel(false, [1]);\n        spy = jasmine.createSpy('SelectionModel initial change event');\n        model.changed.subscribe(spy);\n\n        expect(spy).not.toHaveBeenCalled();\n      });\n    });\n\n    describe('deselection', () => {\n      let model: SelectionModel<any>;\n      let spy: jasmine.Spy;\n\n      beforeEach(() => {\n        model = new SelectionModel(true, [1, 2, 3]);\n        spy = jasmine.createSpy('SelectionModel change event');\n\n        model.changed.subscribe(spy);\n      });\n\n      it('should emit an event when a value is deselected', () => {\n        model.deselect(1);\n\n        let event = spy.calls.mostRecent().args[0];\n\n        expect(spy).toHaveBeenCalled();\n        expect(event.removed).toEqual([1]);\n      });\n\n      it('should not emit an event when a non-selected value is deselected', () => {\n        model.deselect(4);\n        expect(spy).not.toHaveBeenCalled();\n      });\n\n      it('should emit a single event when clearing all of the selected options', () => {\n        model.clear();\n\n        let event = spy.calls.mostRecent().args[0];\n\n        expect(spy).toHaveBeenCalledTimes(1);\n        expect(event.removed).toEqual([1, 2, 3]);\n      });\n\n    });\n  });\n\n  describe('disabling the change event', () => {\n    let model: SelectionModel<any>;\n\n    beforeEach(() => {\n      model = new SelectionModel(true, undefined, false);\n    });\n\n    it('should still update the select value', () => {\n      model.select(1);\n      expect(model.selected).toEqual([1]);\n\n      model.select(2);\n      expect(model.selected).toEqual([1, 2]);\n    });\n  });\n\n  it('should be able to determine whether it is empty', () => {\n    let model = new SelectionModel();\n\n    expect(model.isEmpty()).toBe(true);\n\n    model.select(1);\n\n    expect(model.isEmpty()).toBe(false);\n  });\n\n  it('should be able to determine whether it has a value', () => {\n    let model = new SelectionModel();\n\n    expect(model.hasValue()).toBe(false);\n\n    model.select(1);\n\n    expect(model.hasValue()).toBe(true);\n  });\n\n  it('should be able to toggle an option', () => {\n    let model = new SelectionModel();\n\n    model.toggle(1);\n    expect(model.isSelected(1)).toBe(true);\n\n    model.toggle(1);\n    expect(model.isSelected(1)).toBe(false);\n  });\n\n  it('should be able to clear the selected options', () => {\n    let model = new SelectionModel(true);\n\n    model.select(1);\n    model.select(2);\n\n    expect(model.selected.length).toBe(2);\n\n    model.clear();\n\n    expect(model.selected.length).toBe(0);\n    expect(model.isEmpty()).toBe(true);\n  });\n\n  it('should be empty if an empty array is passed for the preselected values', () => {\n    expect(new SelectionModel(false, []).selected).toEqual([]);\n  });\n\n  it('should be able to determine whether multiple values can be selected', () => {\n    let multipleSelectionModel = new SelectionModel(true);\n    expect(multipleSelectionModel.isMultipleSelection()).toBe(true);\n\n    let singleSelectionModel = new SelectionModel();\n    expect(singleSelectionModel.isMultipleSelection()).toBe(false);\n  });\n});\n"]}