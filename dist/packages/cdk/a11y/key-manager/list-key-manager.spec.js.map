{"version":3,"file":"list-key-manager.spec.js","sourceRoot":"","sources":["../../../../../src/cdk/a11y/key-manager/list-key-manager.spec.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,kDAAyF;AACzF,4CAAoC;AACpC,sCAAwC;AACxC,iDAAsD;AACtD,gDAAyD;AACzD,+EAA0E;AAC1E,yDAAoD;AACpD,uDAA6E;AAE7E,6BAA6B;AAG7B;IAKE,uBAAoB,MAAW;QAAX,uBAAA,EAAA,WAAW;QAAX,WAAM,GAAN,MAAM,CAAK;QAJ/B,2CAA2C;QAC3C,aAAQ,GAAG,KAAK,CAAC;QACjB,gFAAgF;QAChF,aAAQ,GAAG,KAAK,CAAC;IACiB,CAAC;IACnC,6BAAK,GAAL,UAAM,YAA0B,IAAG,CAAC;IACpC,gCAAQ,GAAR,cAAa,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IACpC,oBAAC;AAAD,CAAC,AARD,IAQC;AAED;IAAA;QACE,aAAQ,GAAG,KAAK,CAAC;IAGnB,CAAC;IAFC,2CAAe,GAAf,cAAmB,CAAC;IACpB,6CAAiB,GAAjB,cAAqB,CAAC;IACxB,wBAAC;AAAD,CAAC,AAJD,IAIC;AAED;IAA+B,iCAAY;IAA3C;QAAA,qEASC;QARC,aAAO,GAAG,IAAI,cAAO,EAAoB,CAAC;;IAQ5C,CAAC;IANC,sBAAI,iCAAM;aAAV,cAAe,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;aAC1C,UAAW,CAAC,IAAmD,CAAC;;;OADtB;IAE1C,sBAAI,gCAAK;aAAT,cAAc,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;;OAAA;IACrC,+BAAO,GAAP,cAAY,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;IAChC,4BAAI,GAAJ,cAAS,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC;IAC/D,uCAAe,GAAf,cAAoB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAChD,oBAAC;AAAD,CAAC,AATD,CAA+B,gBAAS,GASvC;AAOD,QAAQ,CAAC,cAAc,EAAE;IACvB,IAAI,QAA4B,CAAC;IACjC,IAAI,aAOH,CAAC;IAEF,UAAU,CAAC;QACT,QAAQ,GAAG,IAAI,aAAa,EAAO,CAAC;QACpC,aAAa,GAAG;YACd,SAAS,EAAE,6BAAmB,CAAC,SAAS,EAAE,qBAAU,CAAC;YACrD,OAAO,EAAE,6BAAmB,CAAC,SAAS,EAAE,mBAAQ,CAAC;YACjD,SAAS,EAAE,6BAAmB,CAAC,SAAS,EAAE,qBAAU,CAAC;YACrD,UAAU,EAAE,6BAAmB,CAAC,SAAS,EAAE,sBAAW,CAAC;YACvD,GAAG,EAAE,6BAAmB,CAAC,SAAS,EAAE,cAAG,CAAC;YACxC,WAAW,EAAE,6BAAmB,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,yCAAyC;SAC3F,CAAC;IACJ,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,gBAAgB,EAAE;QACzB,IAAI,UAAyC,CAAC;QAE9C,UAAU,CAAC;YACT,QAAQ,CAAC,KAAK,GAAG;gBACf,IAAI,aAAa,CAAC,KAAK,CAAC;gBACxB,IAAI,aAAa,CAAC,KAAK,CAAC;gBACxB,IAAI,aAAa,CAAC,OAAO,CAAC;aAC3B,CAAC;YACF,UAAU,GAAG,IAAI,iCAAc,CAAgB,QAAQ,CAAC,CAAC;YAEzD,gCAAgC;YAChC,UAAU,CAAC,kBAAkB,EAAE,CAAC;YAEhC,KAAK,CAAC,UAAU,EAAE,eAAe,CAAC,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;QACvD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,gEAAgE,EAAE;YACnE,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC3C,MAAM,CAAC,UAAU,CAAC,UAAW,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAEtD,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC;YAClD,QAAQ,CAAC,eAAe,EAAE,CAAC;YAE3B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC3C,MAAM,CAAC,UAAU,CAAC,UAAW,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACxD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,yCAAyC,EAAE;YAC5C,MAAM,CAAC,IAAI,iCAAc,CAAC,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,QAAQ,EAAE,CAAC;QACvD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,oEAAoE,EAAE;YACvE,UAAU,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAC/B,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,YAAY,EAAE;YAErB,EAAE,CAAC,gDAAgD,EAAE;gBACnD,IAAM,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC5C,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAC/C,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBAExC,MAAM,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC;YACjC,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,gEAAgE,EAAE;gBACnE,IAAM,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC5C,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAE/C,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,GAAG,EAAE,UAAU,EAAE,EAAC,GAAG,EAAE,cAAM,OAAA,IAAI,EAAJ,CAAI,EAAC,CAAC,CAAC;gBACxE,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBAExC,MAAM,CAAC,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC;YACjC,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,uDAAuD,EAAE;gBAC1D,IAAM,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC5C,IAAM,YAAY,GAAG,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAEtD,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,MAAM,CAAC,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBAErC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBAC5C,MAAM,CAAC,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBAErC,YAAY,CAAC,WAAW,EAAE,CAAC;YAC7B,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,0EAA0E,EAAE;gBAC7E,UAAU,GAAG,IAAI,iCAAc,CAAgB,QAAQ,CAAC,CAAC;gBAEzD,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,yCAAyC,CAAC,CAAC;gBAEvF,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAE9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,uCAAuC,CAAC,CAAC;YACtF,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,kEAAkE,EAAE;gBACrE,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAEvD,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;gBAExC,MAAM,CAAC,aAAa,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACzD,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,oDAAoD,EAAE;gBACvD,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAE5B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC3C,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAE/D,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;gBAEhD,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC3C,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACjE,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,8DAA8D,EAAE;gBACjE,UAAU,CAAC,uBAAuB,EAAE,CAAC,yBAAyB,CAAC,IAAI,CAAC,CAAC;gBAErE,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAE3C,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;gBAE/C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC3C,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAChE,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,gEAAgE,EAAE;gBACnE,UAAU,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;gBAE3E,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAE3C,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAE9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC3C,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC/D,CAAC,CAAC,CAAC;YAEH,QAAQ,CAAC,2BAA2B,EAAE;gBAAA,iBAQrC;gBAPC,UAAU,CAAC;oBACT,UAAU,CAAC,uBAAuB,EAAE,CAAC;oBACrC,KAAI,CAAC,YAAY,GAAG,6BAAmB,CAAC,SAAS,EAAE,qBAAU,CAAC,CAAC;oBAC/D,KAAI,CAAC,YAAY,GAAG,6BAAmB,CAAC,SAAS,EAAE,mBAAQ,CAAC,CAAC;gBAC/D,CAAC,CAAC,CAAC;gBAEH,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC;YAEH,QAAQ,CAAC,sBAAsB,EAAE;gBAAA,iBAQhC;gBAPC,UAAU,CAAC;oBACT,UAAU,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;oBAC5C,KAAI,CAAC,YAAY,GAAG,6BAAmB,CAAC,SAAS,EAAE,sBAAW,CAAC,CAAC;oBAChE,KAAI,CAAC,YAAY,GAAG,6BAAmB,CAAC,SAAS,EAAE,qBAAU,CAAC,CAAC;gBACjE,CAAC,CAAC,CAAC;gBAEH,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC;YAEH,QAAQ,CAAC,sBAAsB,EAAE;gBAAA,iBAQhC;gBAPC,UAAU,CAAC;oBACT,UAAU,CAAC,yBAAyB,CAAC,KAAK,CAAC,CAAC;oBAC5C,KAAI,CAAC,YAAY,GAAG,6BAAmB,CAAC,SAAS,EAAE,qBAAU,CAAC,CAAC;oBAC/D,KAAI,CAAC,YAAY,GAAG,6BAAmB,CAAC,SAAS,EAAE,sBAAW,CAAC,CAAC;gBAClE,CAAC,CAAC,CAAC;gBAEH,sBAAsB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC;YAEH;;;;eAIG;YACH,SAAS,sBAAsB;gBAA/B,iBAwJC;gBAvJC,EAAE,CAAC,oEAAoE,EAAE;oBACvE,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBAExC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,wDAAwD,CAAC,CAAC;oBACvE,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBACzD,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAE7D,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,yDAAyD,CAAC,CAAC;oBACxE,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBACzD,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBAC/D,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,6EAA6E,EAAE;oBAChF,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC7B,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBAExC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,sEAAsE,CAAC,CAAC;oBACrF,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBACzD,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBAC/D,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,sEAAsE,EAAE;oBACzE,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBAExC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,wDAAwD,CAAC,CAAC;oBACvE,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAEzD,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,yEAAyE,CAAC,CAAC;oBACxF,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBAC3D,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,+EAA+E,EAAE;oBAClF,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC7B,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBAExC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,CAAC,EAAE,qEAAqE,CAAC,CAAC;oBACrF,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBAC/D,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,4BAA4B,EAAE;oBAC/B,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;oBAElC,wDAAwD;oBACxD,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,gEAAgE,CAAC,CAAC;oBAC/E,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAEzD,4DAA4D;oBAC5D,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,8DAA8D,CAAC,CAAC;oBAC7E,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBACzD,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBAC/D,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,4DAA4D,EAAE;oBAC/D,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,SAAS,CAAC;oBACvC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,SAAS,CAAC;oBACvC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,SAAS,CAAC;oBAEvC,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,0EAA0E,CAAC,CAAC;oBACzF,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBACzD,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAE7D,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,2EAA2E,CAAC,CAAC;oBAC1F,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;oBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBAC3D,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,yDAAyD,EAAE;oBAC5D,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,8CAA8C,CAAC,CAAC;oBAE7D,kEAAkE;oBAClE,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,wDAAwD,CAAC,CAAC;oBAEvE,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,+CAA+C,CAAC,CAAC;oBAE9D,wEAAwE;oBACxE,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,8DAA8D,CAAC,CAAC;gBAC/E,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,mEAAmE,EAAE;oBACtE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;oBAClC,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,gDAAgD,CAAC,CAAC;oBAE/D,gFAAgF;oBAChF,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;yBAC7B,IAAI,CAAC,CAAC,EAAE,4CAA4C,CAAC,CAAC;oBAC3D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBAC/D,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,8DAA8D,EAAE;oBACjE,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACvD,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBAEtD,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;oBACvD,UAAU,CAAC,SAAS,CAAC,KAAI,CAAC,YAAY,CAAC,CAAC;oBACxC,MAAM,CAAC,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBACxD,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,mEAAmE,EAAE;oBACtE,kBAAkB,CAAC,KAAI,EAAE,QAAQ,CAAC,CAAC;gBACrC,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,uEAAuE,EAAE;oBAC1E,kBAAkB,CAAC,KAAI,EAAE,SAAS,CAAC,CAAC;gBACtC,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,oEAAoE,EAAE;oBACvE,kBAAkB,CAAC,KAAI,EAAE,SAAS,CAAC,CAAC;gBACtC,CAAC,CAAC,CAAC;gBAEH,EAAE,CAAC,qEAAqE,EAAE;oBACxE,kBAAkB,CAAC,KAAI,EAAE,UAAU,CAAC,CAAC;gBACvC,CAAC,CAAC,CAAC;YAEL,CAAC;YAED,yEAAyE;YACzE,SAAS,kBAAkB,CAAC,OAG3B,EAAE,QAAmC;gBACpC,IAAM,kBAAkB,GAAG,UAAU,CAAC,eAAe,CAAC;gBACtD,IAAM,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC5C,IAAM,YAAY,GAAG,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAEtD,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC1D,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAE1D,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,YAAY,EAAE,QAAQ,EAAE,EAAC,GAAG,EAAE,cAAM,OAAA,IAAI,EAAJ,CAAI,EAAC,CAAC,CAAC;gBACzE,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,YAAY,EAAE,QAAQ,EAAE,EAAC,GAAG,EAAE,cAAM,OAAA,IAAI,EAAJ,CAAI,EAAC,CAAC,CAAC;gBAEzE,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAC3C,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC1D,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBAC5D,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;gBAEnC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;gBAC3C,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC1D,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;gBAC5D,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;gBAEnC,YAAY,CAAC,WAAW,EAAE,CAAC;YAC7B,CAAC;QAEH,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,oBAAoB,EAAE;YAE7B,EAAE,CAAC,wBAAwB,EAAE;gBAC3B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,+CAA+C,CAAC,CAAC;gBAE9D,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAC5B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,yEAAyE,CAAC,CAAC;YAC1F,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,oDAAoD,EAAE;gBACvD,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,+CAA+C,CAAC,CAAC;gBAE9D,UAAU,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,yCAAyC,CAAC,CAAC;YAC1D,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,iEAAiE,EAAE;gBACpE,IAAM,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC5C,IAAM,YAAY,GAAG,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAEtD,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAE3C,UAAU,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;gBAE/B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAC3C,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;gBAEnC,YAAY,CAAC,WAAW,EAAE,CAAC;YAC7B,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,yCAAyC,EAAE;gBAC5C,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAE9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,+CAA+C,CAAC,CAAC;gBAC5F,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC;qBACxB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,sDAAsD,CAAC,CAAC;gBAGrF,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,8CAA8C,CAAC,CAAC;gBAC3F,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC;qBACxB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,wDAAwD,CAAC,CAAC;YACzF,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,6BAA6B,EAAE;gBAChC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,8CAA8C,CAAC,CAAC;gBAE7D,UAAU,CAAC,kBAAkB,EAAE,CAAC;gBAChC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,yEAAyE,CAAC,CAAC;YAC1F,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,4EAA4E,EAAE;gBAC/E,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAElC,UAAU,CAAC,kBAAkB,EAAE,CAAC;gBAChC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,kEAAkE,CAAC,CAAC;YACnF,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,4BAA4B,EAAE;gBAC/B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,+CAA+C,CAAC,CAAC;gBAE9D,UAAU,CAAC,iBAAiB,EAAE,CAAC;gBAC/B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,uEAAuE,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,+EAA+E,EAAE;gBAClF,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAElC,UAAU,CAAC,iBAAiB,EAAE,CAAC;gBAC/B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,yEAAyE,CAAC,CAAC;YAC1F,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,4BAA4B,EAAE;gBAC/B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,+CAA+C,CAAC,CAAC;gBAE9D,UAAU,CAAC,iBAAiB,EAAE,CAAC;gBAC/B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,uEAAuE,CAAC,CAAC;YACxF,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,yEAAyE,EAAE;gBAC5E,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAClC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,+CAA+C,CAAC,CAAC;gBAE9D,UAAU,CAAC,iBAAiB,EAAE,CAAC;gBAC/B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,mEAAmE,CAAC,CAAC;YACpF,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,gCAAgC,EAAE;gBACnC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,gDAAgD,CAAC,CAAC;gBAE/D,UAAU,CAAC,qBAAqB,EAAE,CAAC;gBACnC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,0EAA0E,CAAC,CAAC;YAC3F,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,mEAAmE,EAAE;gBACtE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAClC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,+CAA+C,CAAC,CAAC;gBAE9D,UAAU,CAAC,qBAAqB,EAAE,CAAC;gBACnC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,6DAA6D,CAAC,CAAC;YAC9E,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,qDAAqD,EAAE;gBACxD,IAAM,GAAG,GAAG,OAAO,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;gBAC5C,IAAM,YAAY,GAAG,UAAU,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBAEtD,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAC5B,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAE5B,MAAM,CAAC,GAAG,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;gBAErC,YAAY,CAAC,WAAW,EAAE,CAAC;YAC7B,CAAC,CAAC,CAAC;QAEL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,WAAW,EAAE;YAEpB,EAAE,CAAC,wCAAwC,EAAE;gBAC3C,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAC;qBACxB,OAAO,CAAC,UAAU,EAAE,8DAA8D,CAAC,CAAC;YAC3F,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,mEAAmE,EAAE;gBACtE,UAAU,CAAC,QAAQ,EAAE,CAAC;gBACtB,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAE9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,kCAAkC,CAAC,CAAC;gBAE/E,sDAAsD;gBACtD,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,4CAA4C,CAAC,CAAC;gBAEzF,wDAAwD;gBACxD,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBAC5C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,sCAAsC,CAAC,CAAC;YACrF,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,wEAAwE,EAAE;gBAC3E,UAAU,CAAC,QAAQ,EAAE,CAAC;gBACtB,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7B,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBAE5C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,gEAAgE,CAAC,CAAC;gBAC/E,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBAC7D,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;gBAEzD,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAC9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;qBAC7B,IAAI,CAAC,CAAC,EAAE,gEAAgE,CAAC,CAAC;gBAC/E,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;YAC3D,CAAC,CAAC,CAAC;YAEH,sFAAsF;YACtF,2FAA2F;YAC3F,EAAE,CAAC,gEAAgE,EAAE;gBACnE,UAAU,CAAC,QAAQ,EAAE,CAAC;gBACtB,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAE5B,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,EAApB,CAAoB,CAAC,CAAC;gBAErD,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAChD,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,oCAAoC,EAAE;gBACvC,UAAU,CAAC,QAAQ,EAAE,CAAC;gBACtB,UAAU,CAAC,kBAAkB,EAAE,CAAC;gBAChC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBAE5C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gBAEnE,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;gBAC3B,UAAU,CAAC,kBAAkB,EAAE,CAAC;gBAChC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;gBAE5C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,gBAAgB,EAAE;YAEzB,EAAE,CAAC,uCAAuC,EAAE;gBAC1C,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAElC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAE3C,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAE9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,sDAAsD,EAAE;gBACzD,UAAU,CAAC,aAAa,CAAC,UAAA,IAAI,IAAI,OAAA,IAAI,CAAC,QAAQ,EAAb,CAAa,CAAC,CAAC;gBAEhD,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAElC,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gBAE3C,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAE9C,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,gBAAgB,EAAE;YACzB,IAAM,gBAAgB,GAAG,GAAG,CAAC;YAE7B,UAAU,CAAC;gBACT,UAAU,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;gBAC3C,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,gEAAgE,EAAE;gBACnE,IAAM,gBAAgB,GAAG,IAAI,aAAa,EAAE,CAAC;gBAE7C,gBAAgB,CAAC,KAAK,GAAG,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;gBAE/C,IAAM,cAAc,GAAG,IAAI,iCAAc,CAAC,gBAAgB,CAAC,CAAC;gBAE5D,MAAM,CAAC,cAAM,OAAA,cAAc,CAAC,aAAa,EAAE,EAA9B,CAA8B,CAAC,CAAC,YAAY,CAAC,gBAAgB,CAAC,CAAC;YAC9E,CAAC,CAAC,CAAC;YAEH,EAAE,CAAC,uCAAuC,EAAE,mBAAS,CAAC;gBACpD,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBACtF,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBACtF,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBAEtF,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE1D,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,uDAAuD,EAAE,mBAAS,CAAC;gBACpE,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBAEtF,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,sEAAsE,EAAE,mBAAS,CAAC;gBACnF,IAAM,MAAM,GAAG,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;gBAClE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,SAAS,EAAE,EAAC,GAAG,EAAE,cAAM,OAAA,IAAI,EAAJ,CAAI,EAAC,CAAC,CAAC;gBAE5D,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS,EAAE,CAAC;gBAE1C,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,YAAY;gBAC1C,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS,EAAE,CAAC;YAC5C,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,mCAAmC,EAAE,mBAAS,CAAC;gBAChD,IAAM,MAAM,GAAG,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;gBAClE,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,EAAE,EAAC,GAAG,EAAE,cAAM,OAAA,IAAI,EAAJ,CAAI,EAAC,CAAC,CAAC;gBAE7D,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS,EAAE,CAAC;gBAE1C,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,YAAY;gBAC1C,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,UAAU,EAAE,CAAC;YAC7C,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,kEAAkE,EAAE,mBAAS,CAAC;gBAC/E,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBACtF,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBAEtF,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,iEAAiE,EAAE,mBAAS,CAAC;gBAC9E,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBACtF,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBACtF,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;gBAE9C,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,iCAAiC,EAAE,mBAAS,CAAC;gBAC9C,QAAQ,CAAC,KAAK,GAAG;oBACf,IAAI,aAAa,CAAC,MAAM,CAAC;oBACzB,IAAI,aAAa,CAAC,KAAK,CAAC;oBACxB,IAAI,aAAa,CAAC,KAAK,CAAC;iBACzB,CAAC;gBAEF,IAAM,aAAa,GAAG,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC;gBAEzE,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,YAAY;gBACjD,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,qCAAqC,EAAE,mBAAS,CAAC;gBAClD,QAAQ,CAAC,KAAK,GAAG;oBACf,IAAI,aAAa,CAAC,IAAI,CAAC;oBACvB,IAAI,aAAa,CAAC,KAAK,CAAC;oBACxB,IAAI,aAAa,CAAC,KAAK,CAAC;iBACzB,CAAC;gBAEF,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBACvF,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBACvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEtD,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBACtF,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBACvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAEtD,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBACvF,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBACvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,iCAAiC,EAAE,mBAAS,CAAC;gBAC9C,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS,EAAE,CAAC;gBAE1C,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC;gBAClC,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,YAAY;gBACtF,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,SAAS,EAAE,CAAC;YAC5C,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,wDAAwD,EAAE,mBAAS,CAAC;gBACrE,QAAQ,CAAC,KAAK,GAAG;oBACf,IAAI,aAAa,CAAC,OAAO,CAAC;oBAC1B,IAAI,aAAa,CAAC,OAAO,CAAC;oBAC1B,IAAI,aAAa,CAAC,QAAQ,CAAC;oBAC3B,IAAI,aAAa,CAAC,SAAS,CAAC;oBAC5B,IAAI,aAAa,CAAC,SAAS,CAAC;iBAC7B,CAAC;gBAEF,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAC5B,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;gBACzE,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,wEAAwE,EAAE,mBAAS,CAAC;gBACrF,QAAQ,CAAC,KAAK,GAAG;oBACf,IAAI,aAAa,CAAC,OAAO,CAAC;oBAC1B,IAAI,aAAa,CAAC,OAAO,CAAC;oBAC1B,IAAI,aAAa,CAAC,QAAQ,CAAC;oBAC3B,IAAI,aAAa,CAAC,SAAS,CAAC;oBAC5B,IAAI,aAAa,CAAC,SAAS,CAAC;iBAC7B,CAAC;gBAEF,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAC5B,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;gBACzE,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,oDAAoD,EAAE,mBAAS,CAAC;gBACjE,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAC5B,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;gBACzE,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,yCAAyC,EAAE,mBAAS,CAAC;gBACtD,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC7B,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;gBACzE,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;YAEJ,EAAE,CAAC,6CAA6C,EAAE,mBAAS,CAAC;gBAC1D,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;gBAC5B,UAAU,CAAC,SAAS,CAAC,6BAAmB,CAAC,SAAS,EAAE,EAAE,EAAE,SAAS,EAAE,GAAG,CAAC,CAAC,CAAC;gBACzE,cAAI,CAAC,gBAAgB,CAAC,CAAC;gBAEvB,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACxD,CAAC,CAAC,CAAC,CAAC;QAEN,CAAC,CAAC,CAAC;IAEL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,iBAAiB,EAAE;QAC1B,IAAI,UAA0C,CAAC;QAE/C,UAAU,CAAC;YACT,QAAQ,CAAC,KAAK,GAAG,CAAC,IAAI,aAAa,EAAE,EAAE,IAAI,aAAa,EAAE,EAAE,IAAI,aAAa,EAAE,CAAC,CAAC;YACjF,UAAU,GAAG,IAAI,mCAAe,CAAgB,QAAQ,CAAC,CAAC;YAE1D,gCAAgC;YAChC,UAAU,CAAC,kBAAkB,EAAE,CAAC;YAEhC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;YAClC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;YAClC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QACpC,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,0DAA0D,EAAE;YAC7D,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAE9C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;YACvD,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;YACzD,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;YAEvD,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAC9C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;YACvD,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;YACzD,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,sDAAsD,EAAE;YACzD,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAE9C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;YACvD,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;YAEzD,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAE5C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;YACzD,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,6DAA6D,EAAE;YAChE,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;iBAC7B,IAAI,CAAC,CAAC,EAAE,+CAA+C,CAAC,CAAC;YAE9D,UAAU,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;YAC/B,MAAM,CAAC,UAAU,CAAC,eAAe,CAAC;iBAC7B,IAAI,CAAC,CAAC,EAAE,2EAA2E,CAAC,CAAC;YAC1F,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,wCAAwC,EAAE;YAC3C,UAAU,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YAEnC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAC9C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;YAE9D,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAC9C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,oBAAoB,CAAC,OAAO,CAAC,CAAC;YAE9D,UAAU,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;YAEtC,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAC5C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,oBAAoB,CAAC,UAAU,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC;IAEL,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,4BAA4B,EAAE;QACrC,IAAI,UAAyD,CAAC;QAE9D,UAAU,CAAC;YACT,QAAQ,CAAC,KAAK,GAAG,CAAC,IAAI,iBAAiB,EAAE,EAAE,IAAI,iBAAiB,EAAE,EAAE,IAAI,iBAAiB,EAAE,CAAC,CAAC;YAC7F,UAAU,GAAG,IAAI,yDAA0B,CAAoB,QAAQ,CAAC,CAAC;YAEzE,gCAAgC;YAChC,UAAU,CAAC,kBAAkB,EAAE,CAAC;YAEhC,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC;YAC5C,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC;YAC5C,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC;YAE5C,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,mBAAmB,CAAC,CAAC;YAC9C,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,mBAAmB,CAAC,CAAC;YAC9C,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,mBAAmB,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,2DAA2D,EAAE;YAC9D,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAE9C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,gBAAgB,EAAE,CAAC;YAC7D,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;YAEjE,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAE9C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,gBAAgB,EAAE,CAAC;QAC/D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,uDAAuD,EAAE;YAC1D,UAAU,CAAC,iBAAiB,EAAE,CAAC;YAC/B,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAE5C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,gBAAgB,EAAE,CAAC;YAC7D,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;YAEjE,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAE5C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,gBAAgB,EAAE,CAAC;QAC/D,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,uDAAuD,EAAE;YAC1D,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;YAC9C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,gBAAgB,EAAE,CAAC;YAE/D,UAAU,CAAC,SAAS,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;YAC5C,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,gBAAgB,EAAE,CAAC;QACjE,CAAC,CAAC,CAAC;IAEL,CAAC,CAAC,CAAC;AAGL,CAAC,CAAC,CAAC","sourcesContent":["import {DOWN_ARROW, TAB, UP_ARROW, LEFT_ARROW, RIGHT_ARROW} from '@angular/cdk/keycodes';\nimport {take} from 'rxjs/operators';\nimport {QueryList} from '@angular/core';\nimport {fakeAsync, tick} from '@angular/core/testing';\nimport {createKeyboardEvent} from '@angular/cdk/testing';\nimport {ActiveDescendantKeyManager} from './activedescendant-key-manager';\nimport {FocusKeyManager} from './focus-key-manager';\nimport {ListKeyManager, ListKeyManagerModifierKey} from './list-key-manager';\nimport {FocusOrigin} from '../focus-monitor/focus-monitor';\nimport {Subject} from 'rxjs';\n\n\nclass FakeFocusable {\n  /** Whether the item is disabled or not. */\n  disabled = false;\n  /** Test property that can be used to test the `skipPredicate` functionality. */\n  skipItem = false;\n  constructor(private _label = '') {}\n  focus(_focusOrigin?: FocusOrigin) {}\n  getLabel() { return this._label; }\n}\n\nclass FakeHighlightable {\n  disabled = false;\n  setActiveStyles() {}\n  setInactiveStyles() {}\n}\n\nclass FakeQueryList<T> extends QueryList<T> {\n  changes = new Subject<FakeQueryList<T>>();\n  items: T[];\n  get length() { return this.items.length; }\n  set length(_) { /* Empty setter for base class constructor */  }\n  get first() { return this.items[0]; }\n  toArray() { return this.items; }\n  some() { return this.items.some.apply(this.items, arguments); }\n  notifyOnChanges() { this.changes.next(this); }\n}\n\ninterface KeyEventTestContext {\n  nextKeyEvent: KeyboardEvent;\n  prevKeyEvent: KeyboardEvent;\n}\n\ndescribe('Key managers', () => {\n  let itemList: FakeQueryList<any>;\n  let fakeKeyEvents: {\n    downArrow: KeyboardEvent,\n    upArrow: KeyboardEvent,\n    leftArrow: KeyboardEvent,\n    rightArrow: KeyboardEvent,\n    tab: KeyboardEvent,\n    unsupported: KeyboardEvent\n  };\n\n  beforeEach(() => {\n    itemList = new FakeQueryList<any>();\n    fakeKeyEvents = {\n      downArrow: createKeyboardEvent('keydown', DOWN_ARROW),\n      upArrow: createKeyboardEvent('keydown', UP_ARROW),\n      leftArrow: createKeyboardEvent('keydown', LEFT_ARROW),\n      rightArrow: createKeyboardEvent('keydown', RIGHT_ARROW),\n      tab: createKeyboardEvent('keydown', TAB),\n      unsupported: createKeyboardEvent('keydown', 192) // corresponds to the tilde character (~)\n    };\n  });\n\n  describe('ListKeyManager', () => {\n    let keyManager: ListKeyManager<FakeFocusable>;\n\n    beforeEach(() => {\n      itemList.items = [\n        new FakeFocusable('one'),\n        new FakeFocusable('two'),\n        new FakeFocusable('three')\n      ];\n      keyManager = new ListKeyManager<FakeFocusable>(itemList);\n\n      // first item is already focused\n      keyManager.setFirstItemActive();\n\n      spyOn(keyManager, 'setActiveItem').and.callThrough();\n    });\n\n    it('should maintain the active item if the amount of items changes', () => {\n      expect(keyManager.activeItemIndex).toBe(0);\n      expect(keyManager.activeItem!.getLabel()).toBe('one');\n\n      itemList.items.unshift(new FakeFocusable('zero'));\n      itemList.notifyOnChanges();\n\n      expect(keyManager.activeItemIndex).toBe(1);\n      expect(keyManager.activeItem!.getLabel()).toBe('one');\n    });\n\n    it('should start off the activeItem as null', () => {\n      expect(new ListKeyManager([]).activeItem).toBeNull();\n    });\n\n    it('should set the activeItem to null if an invalid index is passed in', () => {\n      keyManager.setActiveItem(1337);\n      expect(keyManager.activeItem).toBeNull();\n    });\n\n    describe('Key events', () => {\n\n      it('should emit tabOut when the tab key is pressed', () => {\n        const spy = jasmine.createSpy('tabOut spy');\n        keyManager.tabOut.pipe(take(1)).subscribe(spy);\n        keyManager.onKeydown(fakeKeyEvents.tab);\n\n        expect(spy).toHaveBeenCalled();\n      });\n\n      it('should emit tabOut when the tab key is pressed with a modifier', () => {\n        const spy = jasmine.createSpy('tabOut spy');\n        keyManager.tabOut.pipe(take(1)).subscribe(spy);\n\n        Object.defineProperty(fakeKeyEvents.tab, 'shiftKey', {get: () => true});\n        keyManager.onKeydown(fakeKeyEvents.tab);\n\n        expect(spy).toHaveBeenCalled();\n      });\n\n      it('should emit an event whenever the active item changes', () => {\n        const spy = jasmine.createSpy('change spy');\n        const subscription = keyManager.change.subscribe(spy);\n\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        expect(spy).toHaveBeenCalledTimes(1);\n\n        keyManager.onKeydown(fakeKeyEvents.upArrow);\n        expect(spy).toHaveBeenCalledTimes(2);\n\n        subscription.unsubscribe();\n      });\n\n      it('should activate the first item when pressing down on a clean key manager', () => {\n        keyManager = new ListKeyManager<FakeFocusable>(itemList);\n\n        expect(keyManager.activeItemIndex).toBe(-1, 'Expected active index to default to -1.');\n\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n        expect(keyManager.activeItemIndex).toBe(0, 'Expected first item to become active.');\n      });\n\n      it('should not prevent the default keyboard action when pressing tab', () => {\n        expect(fakeKeyEvents.tab.defaultPrevented).toBe(false);\n\n        keyManager.onKeydown(fakeKeyEvents.tab);\n\n        expect(fakeKeyEvents.tab.defaultPrevented).toBe(false);\n      });\n\n      it('should not do anything for unsupported key presses', () => {\n        keyManager.setActiveItem(1);\n\n        expect(keyManager.activeItemIndex).toBe(1);\n        expect(fakeKeyEvents.unsupported.defaultPrevented).toBe(false);\n\n        keyManager.onKeydown(fakeKeyEvents.unsupported);\n\n        expect(keyManager.activeItemIndex).toBe(1);\n        expect(fakeKeyEvents.unsupported.defaultPrevented).toBe(false);\n      });\n\n      it('should ignore the horizontal keys when only in vertical mode', () => {\n        keyManager.withVerticalOrientation().withHorizontalOrientation(null);\n\n        expect(keyManager.activeItemIndex).toBe(0);\n\n        keyManager.onKeydown(fakeKeyEvents.rightArrow);\n\n        expect(keyManager.activeItemIndex).toBe(0);\n        expect(fakeKeyEvents.rightArrow.defaultPrevented).toBe(false);\n      });\n\n      it('should ignore the horizontal keys when only in horizontal mode', () => {\n        keyManager.withVerticalOrientation(false).withHorizontalOrientation('ltr');\n\n        expect(keyManager.activeItemIndex).toBe(0);\n\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n        expect(keyManager.activeItemIndex).toBe(0);\n        expect(fakeKeyEvents.downArrow.defaultPrevented).toBe(false);\n      });\n\n      describe('with `vertical` direction', function(this: KeyEventTestContext) {\n        beforeEach(() => {\n          keyManager.withVerticalOrientation();\n          this.nextKeyEvent = createKeyboardEvent('keydown', DOWN_ARROW);\n          this.prevKeyEvent = createKeyboardEvent('keydown', UP_ARROW);\n        });\n\n        runDirectionalKeyTests.call(this);\n      });\n\n      describe('with `ltr` direction', function(this: KeyEventTestContext) {\n        beforeEach(() => {\n          keyManager.withHorizontalOrientation('ltr');\n          this.nextKeyEvent = createKeyboardEvent('keydown', RIGHT_ARROW);\n          this.prevKeyEvent = createKeyboardEvent('keydown', LEFT_ARROW);\n        });\n\n        runDirectionalKeyTests.call(this);\n      });\n\n      describe('with `rtl` direction', function(this: KeyEventTestContext) {\n        beforeEach(() => {\n          keyManager.withHorizontalOrientation('rtl');\n          this.nextKeyEvent = createKeyboardEvent('keydown', LEFT_ARROW);\n          this.prevKeyEvent = createKeyboardEvent('keydown', RIGHT_ARROW);\n        });\n\n        runDirectionalKeyTests.call(this);\n      });\n\n      /**\n       * Defines the directional key tests that should be run in a particular context. Note that\n       * parameters have to be passed in via Jasmine's context object (`this` inside a `beforeEach`)\n       * because this function has to run before any `beforeEach`, `beforeAll` etc. hooks.\n       */\n      function runDirectionalKeyTests(this: KeyEventTestContext) {\n        it('should set subsequent items as active when the next key is pressed', () => {\n          keyManager.onKeydown(this.nextKeyEvent);\n\n          expect(keyManager.activeItemIndex)\n              .toBe(1, 'Expected active item to be 1 after one next key event.');\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(0);\n          expect(keyManager.setActiveItem).toHaveBeenCalledWith(1);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(2);\n\n          keyManager.onKeydown(this.nextKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(2, 'Expected active item to be 2 after two next key events.');\n          expect(keyManager.setActiveItem).toHaveBeenCalledWith(2);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(0);\n        });\n\n        it('should set first item active when the next key is pressed if no active item', () => {\n          keyManager.setActiveItem(-1);\n          keyManager.onKeydown(this.nextKeyEvent);\n\n          expect(keyManager.activeItemIndex)\n              .toBe(0, 'Expected active item to be 0 after next key if active item was null.');\n          expect(keyManager.setActiveItem).toHaveBeenCalledWith(0);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(1);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(2);\n        });\n\n        it('should set previous items as active when the previous key is pressed', () => {\n          keyManager.onKeydown(this.nextKeyEvent);\n\n          expect(keyManager.activeItemIndex)\n              .toBe(1, 'Expected active item to be 1 after one next key event.');\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(0);\n          expect(keyManager.setActiveItem).toHaveBeenCalledWith(1);\n\n          keyManager.onKeydown(this.prevKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(0, 'Expected active item to be 0 after one next and one previous key event.');\n          expect(keyManager.setActiveItem).toHaveBeenCalledWith(0);\n        });\n\n        it('should do nothing when the prev key is pressed if no active item and not wrap', () => {\n          keyManager.setActiveItem(-1);\n          keyManager.onKeydown(this.prevKeyEvent);\n\n          expect(keyManager.activeItemIndex)\n              .toBe(-1, 'Expected nothing to happen if prev event occurs and no active item.');\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(0);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(1);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(2);\n        });\n\n        it('should skip disabled items', () => {\n          itemList.items[1].disabled = true;\n\n          // Next event should skip past disabled item from 0 to 2\n          keyManager.onKeydown(this.nextKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(2, 'Expected active item to skip past disabled item on next event.');\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(0);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(1);\n          expect(keyManager.setActiveItem).toHaveBeenCalledWith(2);\n\n          // Previous event should skip past disabled item from 2 to 0\n          keyManager.onKeydown(this.prevKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(0, 'Expected active item to skip past disabled item on up arrow.');\n          expect(keyManager.setActiveItem).toHaveBeenCalledWith(0);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(1);\n        });\n\n        it('should work normally when disabled property does not exist', () => {\n          itemList.items[0].disabled = undefined;\n          itemList.items[1].disabled = undefined;\n          itemList.items[2].disabled = undefined;\n\n          keyManager.onKeydown(this.nextKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(1, 'Expected active item to be 1 after one next event when disabled not set.');\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(0);\n          expect(keyManager.setActiveItem).toHaveBeenCalledWith(1);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(2);\n\n          keyManager.onKeydown(this.nextKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(2, 'Expected active item to be 2 after two next events when disabled not set.');\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(0);\n          expect(keyManager.setActiveItem).toHaveBeenCalledWith(2);\n        });\n\n        it('should not move active item past either end of the list', () => {\n          keyManager.onKeydown(this.nextKeyEvent);\n          keyManager.onKeydown(this.nextKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(2, `Expected last item of the list to be active.`);\n\n          // This next event would move active item past the end of the list\n          keyManager.onKeydown(this.nextKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(2, `Expected active item to remain at the end of the list.`);\n\n          keyManager.onKeydown(this.prevKeyEvent);\n          keyManager.onKeydown(this.prevKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(0, `Expected first item of the list to be active.`);\n\n          // This prev event would move active item past the beginning of the list\n          keyManager.onKeydown(this.prevKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(0, `Expected active item to remain at the beginning of the list.`);\n        });\n\n        it('should not move active item to end when the last item is disabled', () => {\n          itemList.items[2].disabled = true;\n          keyManager.onKeydown(this.nextKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(1, `Expected second item of the list to be active.`);\n\n          // This next key event would set active item to the last item, which is disabled\n          keyManager.onKeydown(this.nextKeyEvent);\n          expect(keyManager.activeItemIndex)\n              .toBe(1, `Expected the second item to remain active.`);\n          expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(2);\n        });\n\n        it('should prevent the default keyboard action of handled events', () => {\n          expect(this.nextKeyEvent.defaultPrevented).toBe(false);\n          keyManager.onKeydown(this.nextKeyEvent);\n          expect(this.nextKeyEvent.defaultPrevented).toBe(true);\n\n          expect(this.prevKeyEvent.defaultPrevented).toBe(false);\n          keyManager.onKeydown(this.prevKeyEvent);\n          expect(this.prevKeyEvent.defaultPrevented).toBe(true);\n        });\n\n        it('should not do anything for arrow keys if the alt key is held down', () => {\n          runModifierKeyTest(this, 'altKey');\n        });\n\n        it('should not do anything for arrow keys if the control key is held down', () => {\n          runModifierKeyTest(this, 'ctrlKey');\n        });\n\n        it('should not do anything for arrow keys if the meta key is held down', () => {\n          runModifierKeyTest(this, 'metaKey');\n        });\n\n        it('should not do anything for arrow keys if the shift key is held down', () => {\n          runModifierKeyTest(this, 'shiftKey');\n        });\n\n      }\n\n      /** Runs the test that asserts that we handle modifier keys correctly. */\n      function runModifierKeyTest(context: {\n        nextKeyEvent: KeyboardEvent,\n        prevKeyEvent: KeyboardEvent\n      }, modifier: ListKeyManagerModifierKey) {\n        const initialActiveIndex = keyManager.activeItemIndex;\n        const spy = jasmine.createSpy('change spy');\n        const subscription = keyManager.change.subscribe(spy);\n\n        expect(context.nextKeyEvent.defaultPrevented).toBe(false);\n        expect(context.prevKeyEvent.defaultPrevented).toBe(false);\n\n        Object.defineProperty(context.nextKeyEvent, modifier, {get: () => true});\n        Object.defineProperty(context.prevKeyEvent, modifier, {get: () => true});\n\n        keyManager.onKeydown(context.nextKeyEvent);\n        expect(context.nextKeyEvent.defaultPrevented).toBe(false);\n        expect(keyManager.activeItemIndex).toBe(initialActiveIndex);\n        expect(spy).not.toHaveBeenCalled();\n\n        keyManager.onKeydown(context.prevKeyEvent);\n        expect(context.prevKeyEvent.defaultPrevented).toBe(false);\n        expect(keyManager.activeItemIndex).toBe(initialActiveIndex);\n        expect(spy).not.toHaveBeenCalled();\n\n        subscription.unsubscribe();\n      }\n\n    });\n\n    describe('programmatic focus', () => {\n\n      it('should setActiveItem()', () => {\n        expect(keyManager.activeItemIndex)\n            .toBe(0, `Expected first item of the list to be active.`);\n\n        keyManager.setActiveItem(1);\n        expect(keyManager.activeItemIndex)\n            .toBe(1, `Expected activeItemIndex to be updated when setActiveItem() was called.`);\n      });\n\n      it('should be able to set the active item by reference', () => {\n        expect(keyManager.activeItemIndex)\n            .toBe(0, `Expected first item of the list to be active.`);\n\n        keyManager.setActiveItem(itemList.items[2]);\n        expect(keyManager.activeItemIndex)\n            .toBe(2, `Expected activeItemIndex to be updated.`);\n      });\n\n      it('should be able to set the active item without emitting an event', () => {\n        const spy = jasmine.createSpy('change spy');\n        const subscription = keyManager.change.subscribe(spy);\n\n        expect(keyManager.activeItemIndex).toBe(0);\n\n        keyManager.updateActiveItem(2);\n\n        expect(keyManager.activeItemIndex).toBe(2);\n        expect(spy).not.toHaveBeenCalled();\n\n        subscription.unsubscribe();\n      });\n\n      it('should expose the active item correctly', () => {\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n        expect(keyManager.activeItemIndex).toBe(1, 'Expected active item to be the second option.');\n        expect(keyManager.activeItem)\n            .toBe(itemList.items[1], 'Expected the active item to match the second option.');\n\n\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        expect(keyManager.activeItemIndex).toBe(2, 'Expected active item to be the third option.');\n        expect(keyManager.activeItem)\n            .toBe(itemList.items[2], 'Expected the active item ID to match the third option.');\n      });\n\n      it('should setFirstItemActive()', () => {\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        expect(keyManager.activeItemIndex)\n            .toBe(2, `Expected last item of the list to be active.`);\n\n        keyManager.setFirstItemActive();\n        expect(keyManager.activeItemIndex)\n            .toBe(0, `Expected setFirstItemActive() to set the active item to the first item.`);\n      });\n\n      it('should set the active item to the second item if the first one is disabled', () => {\n        itemList.items[0].disabled = true;\n\n        keyManager.setFirstItemActive();\n        expect(keyManager.activeItemIndex)\n            .toBe(1, `Expected the second item to be active if the first was disabled.`);\n      });\n\n      it('should setLastItemActive()', () => {\n        expect(keyManager.activeItemIndex)\n            .toBe(0, `Expected first item of the list to be active.`);\n\n        keyManager.setLastItemActive();\n        expect(keyManager.activeItemIndex)\n            .toBe(2, `Expected setLastItemActive() to set the active item to the last item.`);\n      });\n\n      it('should set the active item to the second to last item if the last is disabled', () => {\n        itemList.items[2].disabled = true;\n\n        keyManager.setLastItemActive();\n        expect(keyManager.activeItemIndex)\n            .toBe(1, `Expected the second to last item to be active if the last was disabled.`);\n      });\n\n      it('should setNextItemActive()', () => {\n        expect(keyManager.activeItemIndex)\n            .toBe(0, `Expected first item of the list to be active.`);\n\n        keyManager.setNextItemActive();\n        expect(keyManager.activeItemIndex)\n            .toBe(1, `Expected setNextItemActive() to set the active item to the next item.`);\n      });\n\n      it('should set the active item to the next enabled item if next is disabled', () => {\n        itemList.items[1].disabled = true;\n        expect(keyManager.activeItemIndex)\n            .toBe(0, `Expected first item of the list to be active.`);\n\n        keyManager.setNextItemActive();\n        expect(keyManager.activeItemIndex)\n            .toBe(2, `Expected setNextItemActive() to only set enabled items as active.`);\n      });\n\n      it('should setPreviousItemActive()', () => {\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        expect(keyManager.activeItemIndex)\n            .toBe(1, `Expected second item of the list to be active.`);\n\n        keyManager.setPreviousItemActive();\n        expect(keyManager.activeItemIndex)\n            .toBe(0, `Expected setPreviousItemActive() to set the active item to the previous.`);\n      });\n\n      it('should skip disabled items when setPreviousItemActive() is called', () => {\n        itemList.items[1].disabled = true;\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        expect(keyManager.activeItemIndex)\n            .toBe(2, `Expected third item of the list to be active.`);\n\n        keyManager.setPreviousItemActive();\n        expect(keyManager.activeItemIndex)\n            .toBe(0, `Expected setPreviousItemActive() to skip the disabled item.`);\n      });\n\n      it('should not emit an event if the item did not change', () => {\n        const spy = jasmine.createSpy('change spy');\n        const subscription = keyManager.change.subscribe(spy);\n\n        keyManager.setActiveItem(2);\n        keyManager.setActiveItem(2);\n\n        expect(spy).toHaveBeenCalledTimes(1);\n\n        subscription.unsubscribe();\n      });\n\n    });\n\n    describe('wrap mode', () => {\n\n      it('should return itself to allow chaining', () => {\n        expect(keyManager.withWrap())\n            .toEqual(keyManager, `Expected withWrap() to return an instance of ListKeyManager.`);\n      });\n\n      it('should wrap focus when arrow keying past items while in wrap mode', () => {\n        keyManager.withWrap();\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n        expect(keyManager.activeItemIndex).toBe(2, 'Expected last item to be active.');\n\n        // this down arrow moves down past the end of the list\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        expect(keyManager.activeItemIndex).toBe(0, 'Expected active item to wrap to beginning.');\n\n        // this up arrow moves up past the beginning of the list\n        keyManager.onKeydown(fakeKeyEvents.upArrow);\n        expect(keyManager.activeItemIndex).toBe(2, 'Expected active item to wrap to end.');\n      });\n\n      it('should set last item active when up arrow is pressed if no active item', () => {\n        keyManager.withWrap();\n        keyManager.setActiveItem(-1);\n        keyManager.onKeydown(fakeKeyEvents.upArrow);\n\n        expect(keyManager.activeItemIndex)\n            .toBe(2, 'Expected last item to be active on up arrow if no active item.');\n        expect(keyManager.setActiveItem).not.toHaveBeenCalledWith(0);\n        expect(keyManager.setActiveItem).toHaveBeenCalledWith(2);\n\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n        expect(keyManager.activeItemIndex)\n            .toBe(0, 'Expected active item to be 0 after wrapping back to beginning.');\n        expect(keyManager.setActiveItem).toHaveBeenCalledWith(0);\n      });\n\n      // This test should pass if all items are disabled and the down arrow key got pressed.\n      // If the test setup crashes or this test times out, this test can be considered as failed.\n      it('should not get into an infinite loop if all items are disabled', () => {\n        keyManager.withWrap();\n        keyManager.setActiveItem(0);\n\n        itemList.items.forEach(item => item.disabled = true);\n\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n      });\n\n      it('should be able to disable wrapping', () => {\n        keyManager.withWrap();\n        keyManager.setFirstItemActive();\n        keyManager.onKeydown(fakeKeyEvents.upArrow);\n\n        expect(keyManager.activeItemIndex).toBe(itemList.items.length - 1);\n\n        keyManager.withWrap(false);\n        keyManager.setFirstItemActive();\n        keyManager.onKeydown(fakeKeyEvents.upArrow);\n\n        expect(keyManager.activeItemIndex).toBe(0);\n      });\n    });\n\n    describe('skip predicate', () => {\n\n      it('should skip disabled items by default', () => {\n        itemList.items[1].disabled = true;\n\n        expect(keyManager.activeItemIndex).toBe(0);\n\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n        expect(keyManager.activeItemIndex).toBe(2);\n      });\n\n      it('should be able to skip items with a custom predicate', () => {\n        keyManager.skipPredicate(item => item.skipItem);\n\n        itemList.items[1].skipItem = true;\n\n        expect(keyManager.activeItemIndex).toBe(0);\n\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n        expect(keyManager.activeItemIndex).toBe(2);\n      });\n    });\n\n    describe('typeahead mode', () => {\n      const debounceInterval = 300;\n\n      beforeEach(() => {\n        keyManager.withTypeAhead(debounceInterval);\n        keyManager.setActiveItem(-1);\n      });\n\n      it('should throw if the items do not implement the getLabel method', () => {\n        const invalidQueryList = new FakeQueryList();\n\n        invalidQueryList.items = [{ disabled: false }];\n\n        const invalidManager = new ListKeyManager(invalidQueryList);\n\n        expect(() => invalidManager.withTypeAhead()).toThrowError(/must implement/);\n      });\n\n      it('should debounce the input key presses', fakeAsync(() => {\n        keyManager.onKeydown(createKeyboardEvent('keydown', 79, undefined, 'o')); // types \"o\"\n        keyManager.onKeydown(createKeyboardEvent('keydown', 78, undefined, 'n')); // types \"n\"\n        keyManager.onKeydown(createKeyboardEvent('keydown', 69, undefined, 'e')); // types \"e\"\n\n        expect(keyManager.activeItem).not.toBe(itemList.items[0]);\n\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[0]);\n      }));\n\n      it('should focus the first item that starts with a letter', fakeAsync(() => {\n        keyManager.onKeydown(createKeyboardEvent('keydown', 84, undefined, 't')); // types \"t\"\n\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[1]);\n      }));\n\n      it('should not move focus if a modifier, that is not allowed, is pressed', fakeAsync(() => {\n        const tEvent = createKeyboardEvent('keydown', 84, undefined, 't');\n        Object.defineProperty(tEvent, 'ctrlKey', {get: () => true});\n\n        expect(keyManager.activeItem).toBeFalsy();\n\n        keyManager.onKeydown(tEvent); // types \"t\"\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBeFalsy();\n      }));\n\n      it('should always allow the shift key', fakeAsync(() => {\n        const tEvent = createKeyboardEvent('keydown', 84, undefined, 't');\n        Object.defineProperty(tEvent, 'shiftKey', {get: () => true});\n\n        expect(keyManager.activeItem).toBeFalsy();\n\n        keyManager.onKeydown(tEvent); // types \"t\"\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBeTruthy();\n      }));\n\n      it('should focus the first item that starts with sequence of letters', fakeAsync(() => {\n        keyManager.onKeydown(createKeyboardEvent('keydown', 84, undefined, 't')); // types \"t\"\n        keyManager.onKeydown(createKeyboardEvent('keydown', 72, undefined, 'h')); // types \"h\"\n\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[2]);\n      }));\n\n      it('should cancel any pending timers if a navigation key is pressed', fakeAsync(() => {\n        keyManager.onKeydown(createKeyboardEvent('keydown', 84, undefined, 't')); // types \"t\"\n        keyManager.onKeydown(createKeyboardEvent('keydown', 72, undefined, 'h')); // types \"h\"\n        keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[0]);\n      }));\n\n      it('should handle non-English input', fakeAsync(() => {\n        itemList.items = [\n          new FakeFocusable(''),\n          new FakeFocusable(''),\n          new FakeFocusable('')\n        ];\n\n        const keyboardEvent = createKeyboardEvent('keydown', 68, undefined, '');\n\n        keyManager.onKeydown(keyboardEvent); // types \"\"\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[1]);\n      }));\n\n      it('should handle non-letter characters', fakeAsync(() => {\n        itemList.items = [\n          new FakeFocusable('[]'),\n          new FakeFocusable('321'),\n          new FakeFocusable('`!?')\n        ];\n\n        keyManager.onKeydown(createKeyboardEvent('keydown', 192, undefined, '`')); // types \"`\"\n        tick(debounceInterval);\n        expect(keyManager.activeItem).toBe(itemList.items[2]);\n\n        keyManager.onKeydown(createKeyboardEvent('keydown', 51, undefined, '3')); // types \"3\"\n        tick(debounceInterval);\n        expect(keyManager.activeItem).toBe(itemList.items[1]);\n\n        keyManager.onKeydown(createKeyboardEvent('keydown', 219, undefined, '[')); // types \"[\"\n        tick(debounceInterval);\n        expect(keyManager.activeItem).toBe(itemList.items[0]);\n      }));\n\n      it('should not focus disabled items', fakeAsync(() => {\n        expect(keyManager.activeItem).toBeFalsy();\n\n        itemList.items[0].disabled = true;\n        keyManager.onKeydown(createKeyboardEvent('keydown', 79, undefined, 'o')); // types \"o\"\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBeFalsy();\n      }));\n\n      it('should start looking for matches after the active item', fakeAsync(() => {\n        itemList.items = [\n          new FakeFocusable('Bilbo'),\n          new FakeFocusable('Frodo'),\n          new FakeFocusable('Pippin'),\n          new FakeFocusable('Boromir'),\n          new FakeFocusable('Aragorn')\n        ];\n\n        keyManager.setActiveItem(1);\n        keyManager.onKeydown(createKeyboardEvent('keydown', 66, undefined, 'b'));\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[3]);\n      }));\n\n      it('should wrap back around if there were no matches after the active item', fakeAsync(() => {\n        itemList.items = [\n          new FakeFocusable('Bilbo'),\n          new FakeFocusable('Frodo'),\n          new FakeFocusable('Pippin'),\n          new FakeFocusable('Boromir'),\n          new FakeFocusable('Aragorn')\n        ];\n\n        keyManager.setActiveItem(3);\n        keyManager.onKeydown(createKeyboardEvent('keydown', 66, undefined, 'b'));\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[0]);\n      }));\n\n      it('should wrap back around if the last item is active', fakeAsync(() => {\n        keyManager.setActiveItem(2);\n        keyManager.onKeydown(createKeyboardEvent('keydown', 79, undefined, 'o'));\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[0]);\n      }));\n\n      it('should be able to select the first item', fakeAsync(() => {\n        keyManager.setActiveItem(-1);\n        keyManager.onKeydown(createKeyboardEvent('keydown', 79, undefined, 'o'));\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[0]);\n      }));\n\n      it('should not do anything if there is no match', fakeAsync(() => {\n        keyManager.setActiveItem(1);\n        keyManager.onKeydown(createKeyboardEvent('keydown', 87, undefined, 'w'));\n        tick(debounceInterval);\n\n        expect(keyManager.activeItem).toBe(itemList.items[1]);\n      }));\n\n    });\n\n  });\n\n  describe('FocusKeyManager', () => {\n    let keyManager: FocusKeyManager<FakeFocusable>;\n\n    beforeEach(() => {\n      itemList.items = [new FakeFocusable(), new FakeFocusable(), new FakeFocusable()];\n      keyManager = new FocusKeyManager<FakeFocusable>(itemList);\n\n      // first item is already focused\n      keyManager.setFirstItemActive();\n\n      spyOn(itemList.items[0], 'focus');\n      spyOn(itemList.items[1], 'focus');\n      spyOn(itemList.items[2], 'focus');\n    });\n\n    it('should focus subsequent items when down arrow is pressed', () => {\n      keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n      expect(itemList.items[0].focus).not.toHaveBeenCalled();\n      expect(itemList.items[1].focus).toHaveBeenCalledTimes(1);\n      expect(itemList.items[2].focus).not.toHaveBeenCalled();\n\n      keyManager.onKeydown(fakeKeyEvents.downArrow);\n      expect(itemList.items[0].focus).not.toHaveBeenCalled();\n      expect(itemList.items[1].focus).toHaveBeenCalledTimes(1);\n      expect(itemList.items[2].focus).toHaveBeenCalledTimes(1);\n    });\n\n    it('should focus previous items when up arrow is pressed', () => {\n      keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n      expect(itemList.items[0].focus).not.toHaveBeenCalled();\n      expect(itemList.items[1].focus).toHaveBeenCalledTimes(1);\n\n      keyManager.onKeydown(fakeKeyEvents.upArrow);\n\n      expect(itemList.items[0].focus).toHaveBeenCalledTimes(1);\n      expect(itemList.items[1].focus).toHaveBeenCalledTimes(1);\n    });\n\n    it('should allow setting the focused item without calling focus', () => {\n      expect(keyManager.activeItemIndex)\n          .toBe(0, `Expected first item of the list to be active.`);\n\n      keyManager.updateActiveItem(1);\n      expect(keyManager.activeItemIndex)\n          .toBe(1, `Expected activeItemIndex to update after calling updateActiveItemIndex().`);\n      expect(itemList.items[1].focus).not.toHaveBeenCalledTimes(1);\n    });\n\n    it('should be able to set the focus origin', () => {\n      keyManager.setFocusOrigin('mouse');\n\n      keyManager.onKeydown(fakeKeyEvents.downArrow);\n      expect(itemList.items[1].focus).toHaveBeenCalledWith('mouse');\n\n      keyManager.onKeydown(fakeKeyEvents.downArrow);\n      expect(itemList.items[2].focus).toHaveBeenCalledWith('mouse');\n\n      keyManager.setFocusOrigin('keyboard');\n\n      keyManager.onKeydown(fakeKeyEvents.upArrow);\n      expect(itemList.items[1].focus).toHaveBeenCalledWith('keyboard');\n    });\n\n  });\n\n  describe('ActiveDescendantKeyManager', () => {\n    let keyManager: ActiveDescendantKeyManager<FakeHighlightable>;\n\n    beforeEach(() => {\n      itemList.items = [new FakeHighlightable(), new FakeHighlightable(), new FakeHighlightable()];\n      keyManager = new ActiveDescendantKeyManager<FakeHighlightable>(itemList);\n\n      // first item is already focused\n      keyManager.setFirstItemActive();\n\n      spyOn(itemList.items[0], 'setActiveStyles');\n      spyOn(itemList.items[1], 'setActiveStyles');\n      spyOn(itemList.items[2], 'setActiveStyles');\n\n      spyOn(itemList.items[0], 'setInactiveStyles');\n      spyOn(itemList.items[1], 'setInactiveStyles');\n      spyOn(itemList.items[2], 'setInactiveStyles');\n    });\n\n    it('should set subsequent items as active with the DOWN arrow', () => {\n      keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n      expect(itemList.items[1].setActiveStyles).toHaveBeenCalled();\n      expect(itemList.items[2].setActiveStyles).not.toHaveBeenCalled();\n\n      keyManager.onKeydown(fakeKeyEvents.downArrow);\n\n      expect(itemList.items[2].setActiveStyles).toHaveBeenCalled();\n    });\n\n    it('should set previous items as active with the UP arrow', () => {\n      keyManager.setLastItemActive();\n      keyManager.onKeydown(fakeKeyEvents.upArrow);\n\n      expect(itemList.items[1].setActiveStyles).toHaveBeenCalled();\n      expect(itemList.items[0].setActiveStyles).not.toHaveBeenCalled();\n\n      keyManager.onKeydown(fakeKeyEvents.upArrow);\n\n      expect(itemList.items[0].setActiveStyles).toHaveBeenCalled();\n    });\n\n    it('should set inactive styles on previously active items', () => {\n      keyManager.onKeydown(fakeKeyEvents.downArrow);\n      expect(itemList.items[0].setInactiveStyles).toHaveBeenCalled();\n\n      keyManager.onKeydown(fakeKeyEvents.upArrow);\n      expect(itemList.items[1].setInactiveStyles).toHaveBeenCalled();\n    });\n\n  });\n\n\n});\n"]}